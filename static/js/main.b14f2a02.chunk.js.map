{"version":3,"sources":["contexts.js","utils.js","WebAPI.js","constants/theme.js","components/Header/Header.js","components/Footer/Footer.js","pages/EditPostPage/EditPostPage.js","components/Loading/Loading.js","components/images/bg_2.jpg","components/Banner/Banner.js","components/images/bg_3.jpg","pages/AboutPage/AboutPage.js","pages/HomePage/HomePage.js","pages/LoginPage/LoginPage.js","pages/NewPostPage/NewPostPage.js","components/Pagination/Pagination.js","pages/PostListPage/PostListPage.js","pages/PostPage/PostPage.js","pages/RegisterPage/RegisterPage.js","components/App/App.js","index.js"],"names":["AuthContext","createContext","LoadingContext","TOKEN_NAME","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","ClickTop","styled","FaChevronUp","props","theme","colors","neutralDarkGrey","neutralSnow","ScrollToTop","pathname","useLocation","useEffect","window","scrollTo","scrollToAnchor","anchorName","anchorElement","document","getElementById","scrollIntoView","BASE_URL","getPost","id","fetch","then","res","json","getLimitPosts","page","limit","getMe","headers","authorization","MEDIA_QUERY","HeaderContainer","div","neutralLightGrey","neutralBrown","Brand","fontSize","brand","neutralWhite","h2","NavbarList","h3","mainPrimary","activeClassName","h5","StyledLink","NavLink","LoadingGetMe","Header","isLoadingGetMe","useContext","user","setUser","location","history","useHistory","exact","to","replace","onClick","push","FooterContainer","CopyRight","GithubIcon","FaGithub","Footer","href","target","EditPostWrapper","EditPostForm","form","neutralGrey","mainBackground","EditPostLabel","h4","EditPostTitleInput","input","neutralPaleGrey","NewPostImage","body","PreviewImage","value","EditPostTextArea","textarea","EditPostSubmit","button","ErrorMessage","uiNegative","EditPostLoading","EditPostPage","isLoading","setIsLoading","useState","title","setTitle","imageUrl","setImageUrl","setBody","errorMessage","setErrorMessage","useParams","post","image","onSubmit","e","preventDefault","method","JSON","stringify","editPost","data","ok","message","catch","err","onChange","onFocus","rows","src","alt","type","placeholder","handleImageChange","LoadingWapper","Loading","size","color","BannerContainer","Background","BannerContent","BannerTitle","h1","Banner","AboutWrapper","bg","AboutTitle","AboutContent","AboutPage","HomePageWrapper","PostsListContainer","PostsListTitle","BackgroundClip","PostContainer","PostImage","PostTitle","PostPreview","PostContent","Link","ReadMoreContainer","RightIcon","FaAngleDoubleRight","PostList","style","backgroundImage","HomePage","posts","setPosts","map","LoginWrapper","LoginForm","LoginTitle","LoginInput","LoginSubmit","LinkToRegister","SubmitLoading","LoginPage","username","setUsername","password","setPassword","handleInputFocus","login","response","toString","NewPostWrapper","NewPostForm","NewPostLabel","NewPostTitleInput","NewPostTextArea","NewPostSubmit","NewPostLoading","NewPostPage","addNewPost","Root","PaginationContainer","PageButton","className","Pagination","totalPages","currentPage","setCurrentPage","current","handlePageClick","PostListWrapper","PostImageContainer","PostHeader","SettingButton","PostDeleteButton","PostEditButton","uiPositive","PostDate","PostBody","handleDeletePost","handleEditPost","userId","Date","createdAt","toLocaleDateString","PostListPage","useRef","pages","i","getPages","Math","ceil","length","deletePost","console","log","PostWrapper","postTitle","PostAuthor","PostPage","setPost","toLocaleString","RegisterWrapper","RegisterForm","RegisterTitle","RegisterInput","RegisterSubmit","LinkToLogin","RegisterPage","nickname","setNickname","register","App","setLoadingGetMe","Provider","path","ReactDOM","render","mainSecondary","homeBackground","uiWarning","uiActive","neutralBlack"],"mappings":"2NAGaA,EAAcC,wBAAc,MAC5BC,EAAiBD,wBAAc,M,6XCC5C,IAAME,EAAa,QAGNC,EAAe,SAACC,GAC3BC,aAAaC,QAAQJ,EAAYE,IAItBG,EAAe,WAC1B,OAAOF,aAAaG,QAAQN,IAajBO,EAAWC,YAAOC,IAAPD,CAAH,KASV,SAACE,GAAD,OAAWA,EAAMC,MAAMC,OAAOC,mBACzB,SAACH,GAAD,OAAWA,EAAMC,MAAMC,OAAOE,eAKjC,SAACJ,GAAD,OAAWA,EAAMC,MAAMC,OAAOE,eACzB,SAACJ,GAAD,OAAWA,EAAMC,MAAMC,OAAOC,mBAKzC,SAASE,IAAe,IACrBC,EAAaC,cAAbD,SAMR,OAJAE,qBAAU,WACRC,OAAOC,SAAS,EAAG,KAClB,CAACJ,IAEG,KAIF,IAAMK,EAAiB,SAACC,GAC7B,GAAIA,EAAY,CACd,IAAIC,EAAgBC,SAASC,eAAeH,GACxCC,GACFA,EAAcG,mBC7DdC,EAAW,+CASJC,EAAU,SAACC,GAAD,OACrBC,MAAM,GAAD,OAAIH,EAAJ,qBAAyBE,EAAzB,kBAA4CE,MAAK,SAACC,GAAD,OAASA,EAAIC,WAGxDC,EAAgB,SAACC,EAAMC,GAAP,OAC3BN,MAAM,GAAD,OACAH,EADA,wBACwBQ,EADxB,mBACuCC,EADvC,iCAEHL,MAAK,SAACC,GAAD,OAASA,EAAIC,WAgFTI,EAAQ,WAEnB,IAAMnC,EAAQG,IACd,OAAOyB,MAAM,GAAD,OAAIH,EAAJ,OAAmB,CAC7BW,QAAS,CACPC,cAAc,UAAD,OAAYrC,MAE1B6B,MAAK,SAACC,GAAD,OAASA,EAAIC,WCzGVO,EAAc,uC,upECQ3B,IAAMC,EAAkBjC,IAAOkC,IAAV,KAKQ,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAO+B,oBAC3C,SAACjC,GAAD,OAAWA,EAAMC,MAAMC,OAAOgC,eAG1CJ,GAQEK,EAAQrC,IAAOkC,IAAV,KACI,SAAChC,GAAD,OAAWA,EAAMC,MAAMmC,SAASC,SAKlC,SAACrC,GAAD,OAAWA,EAAMC,MAAMC,OAAOE,eAI5B,SAACJ,GAAD,OAAWA,EAAMC,MAAMC,OAAOoC,eAIzCR,GACa,SAAC9B,GAAD,OAAWA,EAAMC,MAAMmC,SAASG,MAK3CC,EAAa1C,IAAOkC,IAAV,IAOZF,GACa,SAAC9B,GAAD,OAAWA,EAAMC,MAAMmC,SAASK,MAUpC,SAACzC,GAAD,OAAWA,EAAMC,MAAMC,OAAOE,eAKV,SAACJ,GAAD,OAAWA,EAAMC,MAAMC,OAAOwC,eAChD,SAAC1C,GAAD,OAAWA,EAAMC,MAAMC,OAAOwC,eAGrC,SAAC1C,GAAD,OAAWA,EAAM2C,mBACQ,SAAC3C,GAAD,OAAWA,EAAMC,MAAMC,OAAOwC,eAChD,SAAC1C,GAAD,OAAWA,EAAMC,MAAMC,OAAOwC,cAIvCZ,GACa,SAAC9B,GAAD,OAAWA,EAAMC,MAAMmC,SAASQ,MAGzC,SAAC5C,GAAD,OAAWA,EAAM2C,mBACV,SAAC3C,GAAD,OAAWA,EAAMC,MAAMC,OAAOwC,eAMzCG,EAAa/C,YAAOgD,IAAPhD,CAAH,KAOL,SAACE,GAAD,OAAWA,EAAMC,MAAMC,OAAOE,eAKV,SAACJ,GAAD,OAAWA,EAAMC,MAAMC,OAAOwC,eAChD,SAAC1C,GAAD,OAAWA,EAAMC,MAAMC,OAAOwC,eAGrC,SAAC1C,GAAD,OAAWA,EAAM2C,mBACQ,SAAC3C,GAAD,OAAWA,EAAMC,MAAMC,OAAOwC,eAChD,SAAC1C,GAAD,OAAWA,EAAMC,MAAMC,OAAOwC,cAIvCZ,GACa,SAAC9B,GAAD,OAAWA,EAAMC,MAAMmC,SAASQ,MAGzC,SAAC5C,GAAD,OAAWA,EAAM2C,mBACV,SAAC3C,GAAD,OAAWA,EAAMC,MAAMC,OAAOwC,eAKvCK,EAAejD,IAAOkC,IAAV,KAOP,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAOE,cAErC0B,GACa,SAAC9B,GAAD,OAAWA,EAAMC,MAAMmC,SAASQ,MAKlC,SAASI,IAAU,IACxBC,EAAmBC,qBAAW7D,GAA9B4D,eADuB,EAELC,qBAAW/D,GAA7BgE,EAFuB,EAEvBA,KAAMC,EAFiB,EAEjBA,QACRC,EAAW9C,cACX+C,EAAUC,cAUhB,OACE,eAACxB,EAAD,CAAiBZ,GAAG,WAApB,UACE,cAACgB,EAAD,UACE,cAAC,IAAD,CAAMqB,OAAK,EAACC,GAAG,IAAIC,SAAO,EAA1B,mCAIF,eAAClB,EAAD,WACyB,MAAtBa,EAAS/C,SACR,cAACuC,EAAD,CAAYW,OAAK,EAACC,GAAG,IAAIE,QAAS,kBAAMhD,EAAe,cAAvD,sCAIA,cAACkC,EAAD,CACEW,OAAK,EACLC,GAAG,cACHE,QAAS,kBAAMhD,EAAe,cAHhC,sCASF,cAACkC,EAAD,CAAYW,OAAK,EAACC,GAAG,aAAaC,SAAO,EAACf,gBAAgB,SAA1D,sCAGCM,EACC,cAACF,EAAD,gDAEA,sCACII,GACA,cAACN,EAAD,CAAYW,OAAK,EAACC,GAAG,YAAYC,SAAO,EAACf,gBAAgB,SAAzD,2BAIAQ,GACA,cAACN,EAAD,CAAYW,OAAK,EAACC,GAAG,SAASC,SAAO,EAACf,gBAAgB,SAAtD,0BAIDQ,GACC,cAACN,EAAD,CAAYW,OAAK,EAACC,GAAG,YAAYC,SAAO,EAACf,gBAAgB,SAAzD,sCAIDQ,GACC,cAACN,EAAD,CAAYY,GAAG,GAAGC,SAAO,EAACC,QArDjB,WACnBpE,EAAa,IACb6D,EAAQ,MACkB,MAAtBC,EAAS/C,UACXgD,EAAQM,KAAK,MAiDL,mC,2rBC7Ld,IAAMC,EAAkB/D,IAAOkC,IAAV,KAML,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAOC,mBACnC,SAACH,GAAD,OAAWA,EAAMC,MAAMC,OAAOE,cAErC0B,GAOEgC,EAAYhE,IAAOkC,IAAV,IAUXF,GAKEiC,EAAajE,YAAOkE,IAAPlE,CAAH,KAGL,SAACE,GAAD,OAAWA,EAAMC,MAAMC,OAAOE,eAG5B,SAACJ,GAAD,OAAWA,EAAMC,MAAMC,OAAOoC,gBAI5B,SAAS2B,IACtB,OACE,eAACJ,EAAD,WACE,8IACA,eAACC,EAAD,WACE,oDACA,iCAAO,WAAP,yBACA,mBAAGI,KAAK,kCAAkCC,OAAO,SAAjD,SACE,cAACJ,EAAD,Y,qzDC/CV,IAAMK,GAAkBtE,IAAOkC,IAAV,KAGjBF,GAKEuC,GAAevE,IAAOwE,KAAV,MAIW,SAACtE,GAAD,OAAWA,EAAMC,MAAMC,OAAOqE,eAE3C,SAACvE,GAAD,OAAWA,EAAMC,MAAMC,OAAOsE,kBAC/B,SAACxE,GAAD,OAAWA,EAAMC,MAAMmC,SAASQ,KAE3Cd,GAIE2C,GAAgB3E,IAAOkC,IAAV,KAEJ,SAAChC,GAAD,OAAWA,EAAMC,MAAMmC,SAASsC,MAGzCC,GAAqB7E,IAAO8E,MAAV,KAGT,SAAC5E,GAAD,OAAWA,EAAMC,MAAMmC,SAASQ,MACzB,SAAC5C,GAAD,OAAWA,EAAMC,MAAMC,OAAO2E,mBAI9CC,GAAehF,IAAO8E,MAAV,KAEH,SAAC5E,GAAD,OAAWA,EAAMC,MAAMmC,SAAS2C,QAGzCC,GAAelF,IAAOkC,IAAV,KAUZ,SAAChC,GAAD,OACAA,EAAMiF,MAAN,8IAKFnD,GAUEoD,GAAmBpF,IAAOqF,SAAV,KAGA,SAACnF,GAAD,OAAWA,EAAMC,MAAMC,OAAO2E,mBACrC,SAAC7E,GAAD,OAAWA,EAAMC,MAAMmC,SAASQ,MAIzCwC,GAAiBtF,IAAOkC,IAAV,KAKP,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAOE,eACnB,SAACJ,GAAD,OAAWA,EAAMC,MAAMC,OAAOqE,eACrC,SAACvE,GAAD,OAAWA,EAAMC,MAAMmC,SAASiD,UAGzB,SAACrF,GAAD,OAAWA,EAAMC,MAAMC,OAAOqE,eAIhDe,GAAexF,IAAOkC,IAAV,KACP,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAOqF,cAInCC,GAAkB1F,IAAOkC,IAAV,KAEV,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAOqE,eAI1B,SAASkB,KAAgB,IAAD,EACDvC,qBAAW7D,GAAvCqG,EAD6B,EAC7BA,UAAWC,EADkB,EAClBA,aADkB,EAEXC,mBAAS,IAFE,mBAE9BC,EAF8B,KAEvBC,EAFuB,OAGLF,mBAAS,IAHJ,mBAG9BG,EAH8B,KAGpBC,EAHoB,OAIbJ,mBAAS,IAJI,mBAI9Bb,EAJ8B,KAIxBkB,EAJwB,OAKGL,qBALH,mBAK9BM,EAL8B,KAKhBC,EALgB,KAM/B7C,EAAUC,cACRpC,EAAOiF,cAAPjF,GAERX,qBAAU,WACRmF,GAAa,GACbzE,EAAQC,GACLE,MAAK,SAACgF,GACLP,EAASO,EAAK,GAAGR,OACjBG,EAAYK,EAAK,GAAGC,OACpBL,EAAQI,EAAK,GAAGtB,SAEjB1D,MAAK,kBAAMsE,GAAa,QAC1B,CAACA,IAwCJ,OACE,cAACvB,GAAD,UACE,eAACC,GAAD,CAAckC,SApBW,SAACC,GAE5BA,EAAEC,iBACFd,GAAa,GJlGO,SAACxE,EAAI0E,EAAOS,EAAOvB,GAEzC,IAAMvF,EAAQG,IACd,OAAOyB,MAAM,GAAD,OAAIH,EAAJ,kBAAsBE,GAAM,CACtCuF,OAAQ,QACR9E,QAAS,CACPC,cAAc,UAAD,OAAYrC,GACzB,eAAgB,oBAElBuF,KAAM4B,KAAKC,UAAU,CACnBf,QACAS,QACAvB,WAED1D,MAAK,SAACC,GAAD,OAASA,EAAIC,UIqFnBsF,CAAS1F,EAAI0E,EAAOE,EAAUhB,GAC3B1D,MAAK,SAACyF,GACLnB,GAAa,GACG,IAAZmB,EAAKC,GAITzD,EAAQM,KAAK,cAHXuC,EAAgBW,EAAKE,YAKxBC,OAAM,SAACC,GACNf,EAAgBe,EAAIF,aAMtB,UACGd,GAAgB,cAACZ,GAAD,UAAeY,IAChC,cAACzB,GAAD,uCACA,cAACE,GAAD,CACEM,MAAOY,EACPsB,SA7CkB,SAACX,GACzBV,EAASU,EAAErC,OAAOc,QA6CZmC,QAlCiB,WACvBjB,EAAgB,SAmCZ,cAAC1B,GAAD,uCACA,cAACS,GAAD,CACED,MAAOF,EACPoC,SA/CiB,SAACX,GACxBP,EAAQO,EAAErC,OAAOc,QA+CXmC,QApCoB,WAC1BjB,EAAgB,OAoCVkB,KAAM,KAER,cAAC5C,GAAD,uCACA,eAACO,GAAD,WACE,qBAAKsC,IAAKvB,EAAUwB,IAAI,6BACxB,cAACzC,GAAD,CACE0C,KAAK,OACLvC,MAAOc,EACP0B,YAAY,6CACZN,SAAU,SAACX,GAAD,OAtDM,SAACA,GACzBR,EAAYQ,EAAErC,OAAOc,OAqDIyC,CAAkBlB,SAGvC,cAACpB,GAAD,UACGM,EACC,cAACF,GAAD,oCAEA,yD,sPC/LZ,IAAMmC,GAAgB7H,IAAOkC,IAAV,MAMH,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAOqE,eAM/B,SAASqD,KACtB,OACE,cAACD,GAAD,UACE,cAAC,cAAD,CAAYE,KAAM,GAAIC,MAAO,cCnBpB,WAA0B,iC,oqBCKzC,IAAMC,GAAkBjI,IAAOkC,IAAV,KAGDgG,GAEhBlG,GAKEmG,GAAgBnI,IAAOkC,IAAV,MAKH,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAOwC,cAI1CZ,GAOEoG,GAAcpI,IAAOkC,IAAV,MACN,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAOoC,gBAC1B,SAACtC,GAAD,OAAWA,EAAMC,MAAMmC,SAASC,QAG3CP,GACa,SAAC9B,GAAD,OAAWA,EAAMC,MAAMmC,SAAS+F,MAIlC,SAASC,KACtB,OACE,cAACL,GAAD,UACE,cAACE,GAAD,UACE,eAACC,GAAD,WACE,4EACA,2FC/CK,WAA0B,iC,+kBCMzC,IAAMG,GAAevI,IAAOkC,IAAV,KAEEsG,IAIQ,SAACtI,GAAD,OAAWA,EAAMC,MAAMC,OAAOqE,cAEtDzC,GAKEyG,GAAazI,IAAOyC,GAAV,MAED,SAACvC,GAAD,OAAWA,EAAMC,MAAMmC,SAAS+F,MAKzCK,GAAe1I,IAAOkC,IAAV,MAEH,SAAChC,GAAD,OAAWA,EAAMC,MAAMmC,SAASsC,MAOhC,SAAS+D,KACtB,OACE,eAACJ,GAAD,CAAclH,GAAG,YAAjB,UACE,cAACoH,GAAD,8BACA,eAACC,GAAD,WACE,kLACA,iI,u8FC5BR,IAAME,GAAkB5I,IAAOkC,IAAV,MACL,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAOoC,gBAGxCqG,GAAqB7I,IAAOkC,IAAV,MAIE,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAO2E,kBAQpD/C,GAME8G,GAAiB9I,IAAOkC,IAAV,MAEL,SAAChC,GAAD,OAAWA,EAAMC,MAAMmC,SAAS+F,MAEpC,SAACnI,GAAD,OAAWA,EAAMC,MAAMC,OAAOoC,gBACzB,SAACtC,GAAD,OAAWA,EAAMC,MAAMC,OAAOgC,gBAMxCqG,GAAazI,YAAO8I,GAAP9I,CAAH,MAIV+I,GAAiB/I,IAAOkC,IAAV,MAIT,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAOwC,cAMrCZ,GAMEgH,GAAgBhJ,IAAOkC,IAAV,MAKU,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAO+B,oBAC3C,SAACjC,GAAD,OAAWA,EAAMC,MAAMC,OAAOgC,gBACnC,SAAClC,GAAD,OAAWA,EAAMC,MAAMC,OAAOoC,gBAUnCyG,GAAYjJ,IAAOkC,IAAV,MAQTgH,GAAYlJ,IAAOkC,IAAV,MACA,SAAChC,GAAD,OAAWA,EAAMC,MAAMmC,SAASK,MACpC,SAACzC,GAAD,OAAWA,EAAMC,MAAMC,OAAOoC,gBAKnC2G,GAAcnJ,IAAOkC,IAAV,MAID,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAOqE,eAI7B,SAACvE,GAAD,OAAWA,EAAMC,MAAMmC,SAASK,MACpC,SAACzC,GAAD,OAAWA,EAAMC,MAAMC,OAAOE,eAYrC8I,GAAcpJ,YAAOqJ,IAAPrJ,CAAH,KAIXmJ,GAGAF,IAOAK,GAAoBtJ,IAAOkC,IAAV,MACR,SAAChC,GAAD,OAAWA,EAAMC,MAAMmC,SAASK,MAOlC,SAACzC,GAAD,OAAWA,EAAMC,MAAMC,OAAOE,eACzB,SAACJ,GAAD,OAAWA,EAAMC,MAAMC,OAAO+B,oBAUjC,SAACjC,GAAD,OAAWA,EAAMC,MAAMC,OAAOoC,gBACzB,SAACtC,GAAD,OAAWA,EAAMC,MAAMC,OAAOwC,cAI9CZ,GAKEuH,GAAYvJ,YAAOwJ,IAAPxJ,CAAH,MAMf,SAASyJ,GAAT,GAA6B,IAATlD,EAAQ,EAARA,KAClB,OACE,cAACyC,GAAD,UACE,eAACI,GAAD,CAAazF,GAAE,gBAAW4C,EAAKlF,IAA/B,UACE,cAAC4H,GAAD,CAAWS,MAAO,CAAEC,gBAAgB,OAAD,OAASpD,EAAKC,MAAd,MAAnC,SACE,cAAC2C,GAAD,UACE,8BAAM5C,EAAKtB,WAGf,cAACiE,GAAD,UAAY3C,EAAKR,aAUV,SAAS6D,KAAY,IAAD,EACGxG,qBAAW7D,GAAvCqG,EADyB,EACzBA,UAAWC,EADc,EACdA,aADc,EAEPC,mBAAS,IAFF,mBAE1B+D,EAF0B,KAEnBC,EAFmB,KAajC,OATApJ,qBAAU,WACRmF,GAAa,GACbnE,EAAc,EAAG,GACdH,MAAK,SAACsI,GAAD,OAAWC,EAASD,MACzBtI,MAAK,WACJsE,GAAa,QAEhB,CAACA,IAGF,cAAC+C,GAAD,UACGhD,EACC,cAACkC,GAAD,IAEA,qCACE,cAACQ,GAAD,IACA,cAACQ,GAAD,UACE,mEAEF,cAACC,GAAD,yBACA,eAACF,GAAD,WACE,kCACGgB,GACCA,EAAME,KAAI,SAACxD,GAAD,OAAU,cAACkD,GAAD,CAAUlD,KAAMA,GAAWA,EAAKlF,SAExD,cAACiI,GAAD,UACE,cAAC,IAAD,CAAM3F,GAAG,aAAT,SACE,2DACM,cAAC4F,GAAD,cAKZ,cAAC,GAAD,UACE,6DAEF,cAACZ,GAAD,S,ioDC1NV,IAAMqB,GAAehK,IAAOkC,IAAV,KAGdF,GAKEiI,GAAYjK,IAAOwE,KAAV,MAIc,SAACtE,GAAD,OAAWA,EAAMC,MAAMC,OAAOqE,eAE3C,SAACvE,GAAD,OAAWA,EAAMC,MAAMC,OAAOsE,kBAC/B,SAACxE,GAAD,OAAWA,EAAMC,MAAMmC,SAASQ,MAG9B,SAAC5C,GAAD,OAAWA,EAAMC,MAAMmC,SAASQ,KAI7Cd,GAKEkI,GAAalK,IAAOkC,IAAV,MACD,SAAChC,GAAD,OAAWA,EAAMC,MAAMmC,SAASG,MAMzC0H,GAAanK,IAAOkC,IAAV,MAMC,SAAChC,GAAD,OAAWA,EAAMC,MAAMmC,SAASQ,MAEzB,SAAC5C,GAAD,OAAWA,EAAMC,MAAMC,OAAO2E,mBAOhDqF,GAAcpK,IAAOkC,IAAV,MAKC,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAOqE,eACnC,SAACvE,GAAD,OAAWA,EAAMC,MAAMC,OAAOE,eAM1B,SAACJ,GAAD,OAAWA,EAAMC,MAAMmC,SAASQ,MAEzB,SAAC5C,GAAD,OAAWA,EAAMC,MAAMC,OAAOqE,eAIhD4F,GAAiBrK,YAAOqJ,IAAPrJ,CAAH,MAGJ,SAACE,GAAD,OAAWA,EAAMC,MAAMC,OAAOE,eACnC,SAACJ,GAAD,OAAWA,EAAMC,MAAMC,OAAOqE,eAGnCe,GAAexF,IAAOkC,IAAV,MAEP,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAOqF,cAInC6E,GAAgBtK,IAAOkC,IAAV,MAER,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAOqE,eAI1B,SAAS8F,KAAa,IAAD,EACEnH,qBAAW7D,GAAvCqG,EAD0B,EAC1BA,UAAWC,EADe,EACfA,aACXvC,EAAYF,qBAAW/D,GAAvBiE,QAF0B,EAIFwC,mBAAS,IAJP,mBAI3B0E,EAJ2B,KAIjBC,EAJiB,OAKF3E,mBAAS,IALP,mBAK3B4E,EAL2B,KAKjBC,EALiB,OAMM7E,qBANN,mBAM3BM,EAN2B,KAMbC,EANa,KAO5B7C,EAAUC,cA6BVmH,EAAmB,WACvBvE,EAAgB,OAWlB,OACE,cAAC2D,GAAD,UACE,eAACC,GAAD,CAAWxD,SAxCM,SAACC,GACpBA,EAAEC,iBACFd,GAAa,GXvBI,SAAC,GAA4B,IAA1B2E,EAAyB,EAAzBA,SAAUE,EAAe,EAAfA,SAChC,OAAOpJ,MAAM,GAAD,OAAIH,EAAJ,UAAsB,CAChCyF,OAAQ,OACR9E,QAAS,CACP,eAAgB,oBAElBmD,KAAM4B,KAAKC,UAAU,CACnB0D,WACAE,eAEDnJ,MAAK,SAACC,GAAD,OAASA,EAAIC,UWcnBoJ,CAAM,CAAEL,WAAUE,aAAYnJ,MAAK,SAACyF,GAElC,GAAgB,IAAZA,EAAKC,GAEP,OADApB,GAAa,GACNQ,EAAgBW,EAAKE,SAG9BzH,EAAauH,EAAKtH,OAElBmC,IAAQN,MAAK,SAACuJ,GACQ,IAAhBA,EAAS7D,KACXpB,GAAa,GAEbpG,EAAa,MACb4G,EAAgByE,EAASC,aAE3BzH,EAAQwH,EAAS9D,MAEjBxD,EAAQM,KAAK,YAmBf,UACE,cAACoG,GAAD,2BACA,kIACC9D,GAAgB,cAAC,GAAD,UAAeA,IAEhC,eAAC+D,GAAD,uBAEE,uBACEhF,MAAOqF,EACPnD,SAnBmB,SAACX,GAC5B+D,EAAY/D,EAAErC,OAAOc,QAmBbmC,QAASsD,OAGb,eAACT,GAAD,uBAEE,uBACEzC,KAAK,WACLvC,MAAOuF,EACPrD,SAxBmB,SAACX,GAC5BiE,EAAYjE,EAAErC,OAAOc,QAwBbmC,QAASsD,OAGb,cAACR,GAAD,UACGxE,EACC,cAAC0E,GAAD,gDAEA,qCACE,cAACD,GAAD,CAAgB1G,GAAG,YAAnB,sCACA,4D,i1DCrKd,IAAMqH,GAAiBhL,IAAOkC,IAAV,KAGhBF,GAKEiJ,GAAcjL,IAAOwE,KAAV,MAIY,SAACtE,GAAD,OAAWA,EAAMC,MAAMC,OAAOqE,eAE3C,SAACvE,GAAD,OAAWA,EAAMC,MAAMC,OAAOsE,kBAC/B,SAACxE,GAAD,OAAWA,EAAMC,MAAMmC,SAASQ,KAE3Cd,GAIEkJ,GAAelL,IAAOkC,IAAV,MAEH,SAAChC,GAAD,OAAWA,EAAMC,MAAMmC,SAASsC,MAGzCuG,GAAoBnL,IAAO8E,MAAV,MAGR,SAAC5E,GAAD,OAAWA,EAAMC,MAAMmC,SAASQ,MACzB,SAAC5C,GAAD,OAAWA,EAAMC,MAAMC,OAAO2E,mBAI9CC,GAAehF,IAAO8E,MAAV,MAGH,SAAC5E,GAAD,OAAWA,EAAMC,MAAMmC,SAAS2C,QAGzCC,GAAelF,IAAOkC,IAAV,MAUZ,SAAChC,GAAD,OACAA,EAAMiF,MAAN,8IAKFnD,GAUEoJ,GAAkBpL,IAAOqF,SAAV,MAGC,SAACnF,GAAD,OAAWA,EAAMC,MAAMC,OAAO2E,mBACrC,SAAC7E,GAAD,OAAWA,EAAMC,MAAMmC,SAASQ,MAIzCuI,GAAgBrL,IAAOkC,IAAV,MAKN,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAOE,eACnB,SAACJ,GAAD,OAAWA,EAAMC,MAAMC,OAAOqE,eACrC,SAACvE,GAAD,OAAWA,EAAMC,MAAMmC,SAASiD,UAGzB,SAACrF,GAAD,OAAWA,EAAMC,MAAMC,OAAOqE,eAIhDe,GAAexF,IAAOkC,IAAV,MACP,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAOqF,cAInC6F,GAAiBtL,IAAOkC,IAAV,MAET,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAOqE,eAI1B,SAAS8G,KAAe,IAAD,EACAnI,qBAAW7D,GAAvCqG,EAD4B,EAC5BA,UAAWC,EADiB,EACjBA,aADiB,EAEVC,mBAAS,IAFC,mBAE7BC,EAF6B,KAEtBC,EAFsB,OAGZF,mBAAS,IAHG,mBAG7Bb,EAH6B,KAGvBkB,EAHuB,OAIJL,mBAAS,IAJL,mBAI7BG,EAJ6B,KAInBC,EAJmB,OAKIJ,qBALJ,mBAK7BM,EAL6B,KAKfC,EALe,KAM9B7C,EAAUC,cA6ChB,OACE,cAACuH,GAAD,UACE,eAACC,GAAD,CAAaxE,SAzBW,SAACC,GAE3BA,EAAEC,iBACFd,GAAa,GACRI,GACHC,EACE,mKZ5GkB,SAACH,EAAOS,EAAOvB,GAEvC,IAAMvF,EAAQG,IACd,OAAOyB,MAAM,GAAD,OAAIH,EAAJ,UAAsB,CAChCyF,OAAQ,OACR9E,QAAS,CACPC,cAAc,UAAD,OAAYrC,GACzB,eAAgB,oBAElBuF,KAAM4B,KAAKC,UAAU,CACnBf,QACAS,QACAvB,WAED1D,MAAK,SAACC,GAAD,OAASA,EAAIC,UYiGnB+J,CAAWzF,EAAOE,EAAUhB,GACzB1D,MAAK,SAACyF,GACLnB,GAAa,GACG,IAAZmB,EAAKC,GAITzD,EAAQM,KAAK,KAHXuC,EAAgBW,EAAKE,YAKxBC,OAAM,SAACC,GACNf,EAAgBe,EAAIF,aAMtB,UACGd,GAAgB,cAAC,GAAD,UAAeA,IAChC,cAAC8E,GAAD,uCACA,cAACC,GAAD,CACEhG,MAAOY,EACPsB,SAlDkB,SAACX,GACzBV,EAASU,EAAErC,OAAOc,QAkDZmC,QAvCiB,WACvBjB,EAAgB,SAwCZ,cAAC6E,GAAD,uCACA,cAACE,GAAD,CACEjG,MAAOF,EACPoC,SApDiB,SAACX,GACxBP,EAAQO,EAAErC,OAAOc,QAoDXmC,QAzCoB,WAC1BjB,EAAgB,OAyCVkB,KAAM,KAER,cAAC2D,GAAD,uCACA,eAAC,GAAD,WACE,qBAAK1D,IAAKvB,EAAUwB,IAAI,6BACxB,cAAC,GAAD,CACEC,KAAK,OACLvC,MAAOc,EACP0B,YAAY,6CACZN,SAAU,SAACX,GAAD,OA3DM,SAACA,GACzBR,EAAYQ,EAAErC,OAAOc,OA0DIyC,CAAkBlB,SAGvC,cAAC2E,GAAD,UACGzF,EACC,cAAC0F,GAAD,oCAEA,yD,4jBCvLZ,IAAMG,GAAOzL,IAAOkC,IAAV,MAEJwJ,GAAsB1L,IAAOkC,IAAV,MAOnByJ,GAAa3L,IAAOuF,OAAV,MASA,SAACrF,GAAD,MACQ,aAApBA,EAAM0L,UACF,qBACA,wBACG,SAAC1L,GAAD,MACa,aAApBA,EAAM0L,UAA2B,OAAS,wBAQ/B,SAASC,GAAT,GAMX,IALF/B,EAKC,EALDA,SACAlI,EAIC,EAJDA,MACAkK,EAGC,EAHDA,WACAC,EAEC,EAFDA,YACAC,EACC,EADDA,eAOA,OACE,cAACP,GAAD,UACE,cAACC,GAAD,UACGI,EAAWG,SACVH,EAAWG,QAAQlC,KAAI,SAACpI,GAAD,OACrB,cAACgK,GAAD,CAEE9H,QAAS,kBAZG,SAAClC,GACvBD,EAAcC,EAAMC,GAAOL,MAAK,SAACsI,GAAD,OAAWC,EAASD,MACpDmC,EAAerK,GAUUuK,CAAgBvK,IAC/BiK,UAAWG,IAAgBpK,EAAO,WAAa,GAHjD,SAKGA,GAJIA,U,0jFC3CnB,IAAMwK,GAAkBnM,IAAOkC,IAAV,KAIjBF,GAKE6G,GAAqB7I,IAAOkC,IAAV,MAIK,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAOqE,eAE3C,SAACvE,GAAD,OAAWA,EAAMC,MAAMC,OAAOsE,iBAE1C1C,GAKE8G,GAAiB9I,IAAOkC,IAAV,MACL,SAAChC,GAAD,OAAWA,EAAMC,MAAMmC,SAAS+F,MAEpC,SAACnI,GAAD,OAAWA,EAAMC,MAAMC,OAAOC,mBACZ,SAACH,GAAD,OAAWA,EAAMC,MAAMC,OAAO2E,mBAIrDqH,GAAqBpM,IAAOkC,IAAV,MAKlB+G,GAAYjJ,IAAOkC,IAAV,MAUT8G,GAAgBhJ,IAAOkC,IAAV,MAEU,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAO+B,mBAKrD8G,GAMFjH,GAMEqK,GAAarM,IAAOkC,IAAV,MAOVgH,GAAYlJ,YAAOqJ,IAAPrJ,CAAH,MACA,SAACE,GAAD,OAAWA,EAAMC,MAAMmC,SAASK,MACpC,SAACzC,GAAD,OAAWA,EAAMC,MAAMC,OAAOwC,eAInC0J,GAAgBtM,IAAOkC,IAAV,MAIbqK,GAAmBvM,IAAOuF,OAAV,MACX,SAACrF,GAAD,OAAWA,EAAMC,MAAMC,OAAOoC,gBACnB,SAACtC,GAAD,OAAWA,EAAMC,MAAMC,OAAOqF,cAGrC,SAACvF,GAAD,OAAWA,EAAMC,MAAMmC,SAAS2C,QAKzCuH,GAAiBxM,YAAOuM,GAAPvM,CAAH,MACE,SAACE,GAAD,OAAWA,EAAMC,MAAMC,OAAOqM,cAI9CC,GAAW1M,IAAOkC,IAAV,MACH,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAOqE,eAGnCkI,GAAW3M,YAAOqJ,IAAPrJ,CAAH,MAMRoJ,GAAcpJ,IAAOkC,IAAV,MACF,SAAChC,GAAD,OAAWA,EAAMC,MAAMmC,SAASsC,MACpC,SAAC1E,GAAD,OAAWA,EAAMC,MAAMC,OAAOC,mBAYzC,SAASoJ,GAAT,GAAqE,IAAjDpG,EAAgD,EAAhDA,KAAMkD,EAA0C,EAA1CA,KAAMqG,EAAoC,EAApCA,iBAAkBC,EAAkB,EAAlBA,eAChD,OACE,eAAC,GAAD,WACE,eAACR,GAAD,WACE,cAAC,GAAD,CAAW3I,OAAK,EAACC,GAAE,gBAAW4C,EAAKlF,IAAnC,SACGkF,EAAKR,QAEP1C,IAA2B,UAAlBA,EAAKmH,UAAwBnH,EAAKhC,KAAOkF,EAAKuG,SACtD,eAACR,GAAD,WACE,cAACE,GAAD,CACE3I,QAAS,WACPgJ,EAAetG,EAAKlF,KAFxB,0BAOA,cAACkL,GAAD,CACE1I,QAAS,WACP+I,EAAiBrG,EAAKlF,KAF1B,gCAUN,cAACqL,GAAD,UAAW,IAAIK,KAAKxG,EAAKyG,WAAWC,uBACpC,eAACN,GAAD,CAAUjJ,OAAK,EAACC,GAAE,gBAAW4C,EAAKlF,IAAlC,UACE,cAAC,GAAD,UAAckF,EAAKtB,OACnB,cAACmH,GAAD,UACE,cAAC,GAAD,CACE1C,MAAO,CAAEC,gBAAgB,OAAD,OAASpD,EAAKC,MAAd,gBAerB,SAAS0G,KAAgB,IAAD,EACD9J,qBAAW7D,GAAvCqG,EAD6B,EAC7BA,UAAWC,EADkB,EAClBA,aACXxC,EAASD,qBAAW/D,GAApBgE,KAF6B,EAIXyC,mBAAS,IAJE,mBAI9B+D,EAJ8B,KAIvBC,EAJuB,OAKChE,mBAAS,GALV,mBAK9BiG,EAL8B,KAKjBC,EALiB,KAM/BF,EAAaqB,mBAEb3J,EAAUC,cAEhB/C,qBAAU,WACRmF,GAAa,GdvLfvE,MAAM,GAAD,OAAIH,EAAJ,uCAAkDI,MAAK,SAACC,GAAD,OAC1DA,EAAIC,UcuLOF,MAAK,SAACsI,GAEfiC,EAAWG,Qf9KO,SAACH,GAEvB,IADA,IAAIsB,EAAQ,GACHC,EAAI,EAAGA,GAAKvB,EAAYuB,IAC/BD,EAAMtJ,KAAKuJ,GAEb,OAAOD,EeyKkBE,CAASC,KAAKC,KAAK3D,EAAM4D,OAPpC,IASV/L,EAAc,EATJ,GAUPH,MAAK,SAACsI,GAAD,OAAWC,EAASD,MACzBtI,MAAK,WACJsE,GAAa,WAGlB,CAACA,IAEJ,IAAM+G,EAAmB,SAACvL,GACxBwE,GAAa,GdtLS,SAACxE,GACzB,IAAM3B,EAAQG,IACd,OAAOyB,MAAM,GAAD,OAAIH,EAAJ,kBAAsBE,GAAM,CACtCuF,OAAQ,SACR9E,QAAS,CACPC,cAAc,UAAD,OAAYrC,GACzB,eAAgB,sBAEjB6B,MAAK,SAACC,GAAD,OAASA,EAAIC,Uc+KnBiM,CAAWrM,GACRE,MAAK,WAEJG,EAAc,EAtBN,GAsBgBH,MAAK,SAACsI,GAAD,OAAWC,EAASD,SAElD1C,OAAM,SAACC,GACNuG,QAAQC,IAAIxG,MAEb7F,KAAKsE,GAAa,KAGjBgH,EAAiB,SAACxL,GACtBmC,EAAQM,KAAR,qBAA2BzC,KAG7B,OACE,cAAC8K,GAAD,UACGvG,EACC,cAACkC,GAAD,IAEA,eAAC,GAAD,WACE,cAAC,GAAD,6CACC+B,EAAME,KAAI,SAACxD,GAAD,OACT,cAAC,GAAD,CACEA,KAAMA,EAENlD,KAAMA,EACNuJ,iBAAkBA,EAClBC,eAAgBA,GAHXtG,EAAKlF,OAMd,cAACwK,GAAD,CACEC,WAAYA,EACZlK,MApDI,EAqDJkI,SAAUA,EACViC,YAAaA,EACbC,eAAgBA,S,uxCCvO5B,IAAM6B,GAAc7N,IAAOkC,IAAV,KAGbF,GAKEgH,GAAgBhJ,IAAOkC,IAAV,MAIU,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAOqE,eAE3C,SAACvE,GAAD,OAAWA,EAAMC,MAAMC,OAAOsE,iBAE1C1C,GAKEkH,GAAYlJ,IAAOkC,IAAV,MACA,SAAChC,GAAD,OAAWA,EAAMC,MAAMmC,SAASwL,aAIzCzB,GAAarM,IAAOkC,IAAV,MAGU,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAO+B,oBACzC,SAACjC,GAAD,OAAWA,EAAMC,MAAMmC,SAASQ,MACpC,SAAC5C,GAAD,OAAWA,EAAMC,MAAMC,OAAOqE,eAMnCsJ,GAAa/N,IAAOkC,IAAV,MAEVwK,GAAW1M,IAAOkC,IAAV,MAER+G,GAAYjJ,IAAOkC,IAAV,MASTyK,GAAW3M,IAAOkC,IAAV,MACC,SAAChC,GAAD,OAAWA,EAAMC,MAAMmC,SAASsC,MAQhC,SAASoJ,KAAY,IAAD,EACG5K,qBAAW7D,GAAvCqG,EADyB,EACzBA,UAAWC,EADc,EACdA,aADc,EAETC,mBAAS,MAFA,mBAE1BS,EAF0B,KAEpB0H,EAFoB,KAGzB5M,EAAOiF,cAAPjF,GASR,OAPAX,qBAAU,WACRmF,GAAa,GACbzE,EAAQC,GACLE,MAAK,SAACgF,GAAD,OAAU0H,EAAQ1H,EAAK,OAC5BhF,MAAK,kBAAMsE,GAAa,QAC1B,CAACA,IAGF,cAACgI,GAAD,UACGjI,EACC,cAACkC,GAAD,IAEA,eAAC,GAAD,WAEE,cAAC,GAAD,UAAYvB,GAAQA,EAAKR,QACzB,eAAC,GAAD,WACE,eAACgI,GAAD,gCAAgBxH,GAAQA,EAAKlD,KAAKmH,YAClC,eAAC,GAAD,gCACMjE,GAAQ,IAAIwG,KAAKxG,EAAKyG,WAAWkB,uBAGzC,cAAC,GAAD,CACExE,MAAO,CAAEC,gBAAgB,OAAD,OAASpD,GAAQA,EAAKC,MAAtB,QAE1B,cAAC,GAAD,UAAWD,GAAQA,EAAKtB,Y,mkDCxFlC,IAAMkJ,GAAkBnO,IAAOkC,IAAV,KAGjBF,GAKEoM,GAAepO,IAAOwE,KAAV,MAIW,SAACtE,GAAD,OAAWA,EAAMC,MAAMC,OAAOqE,eAE3C,SAACvE,GAAD,OAAWA,EAAMC,MAAMC,OAAOsE,kBAC/B,SAACxE,GAAD,OAAWA,EAAMC,MAAMmC,SAASQ,KAE3Cd,GAKEqM,GAAgBrO,IAAOkC,IAAV,MACJ,SAAChC,GAAD,OAAWA,EAAMC,MAAMmC,SAASG,MAMzC6L,GAAgBtO,IAAOkC,IAAV,MAMF,SAAChC,GAAD,OAAWA,EAAMC,MAAMmC,SAASQ,MAEzB,SAAC5C,GAAD,OAAWA,EAAMC,MAAMC,OAAO2E,mBAOhDwJ,GAAiBvO,IAAOkC,IAAV,MAKF,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAOqE,eACnC,SAACvE,GAAD,OAAWA,EAAMC,MAAMC,OAAOE,eAM1B,SAACJ,GAAD,OAAWA,EAAMC,MAAMmC,SAASQ,MAEzB,SAAC5C,GAAD,OAAWA,EAAMC,MAAMC,OAAOqE,eAIhD+J,GAAcxO,YAAOqJ,IAAPrJ,CAAH,MAGD,SAACE,GAAD,OAAWA,EAAMC,MAAMC,OAAOE,eACnC,SAACJ,GAAD,OAAWA,EAAMC,MAAMC,OAAOqE,eAGnCe,GAAexF,IAAOkC,IAAV,MAEP,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAOqF,cAInC6E,GAAgBtK,IAAOkC,IAAV,MAER,SAAChC,GAAD,OAAWA,EAAMC,MAAMC,OAAOqE,eAI1B,SAASgK,KAAgB,IAAD,EACDrL,qBAAW7D,GAAvCqG,EAD6B,EAC7BA,UAAWC,EADkB,EAClBA,aACXvC,EAAYF,qBAAW/D,GAAvBiE,QAF6B,EAILwC,mBAAS,IAJJ,mBAI9B0E,EAJ8B,KAIpBC,EAJoB,OAKL3E,mBAAS,IALJ,mBAK9B4E,EAL8B,KAKpBC,EALoB,OAML7E,mBAAS,IANJ,mBAM9B4I,EAN8B,KAMpBC,EANoB,OAOG7I,qBAPH,mBAO9BM,EAP8B,KAOhBC,EAPgB,KAQ/B7C,EAAUC,cA6BVmH,EAAmB,WACvBvE,EAAgB,OAelB,OACE,cAAC8H,GAAD,UACE,eAACC,GAAD,CAAc3H,SA5CG,SAACC,GACpBA,EAAEC,iBACFd,GAAa,GhBlCO,SAAC,GAAsC,IAApC2E,EAAmC,EAAnCA,SAAUE,EAAyB,EAAzBA,SAAUgE,EAAe,EAAfA,SAC7C,OAAOpN,MAAM,GAAD,OAAIH,EAAJ,aAAyB,CACnCyF,OAAQ,OACR9E,QAAS,CACP,eAAgB,oBAElBmD,KAAM4B,KAAKC,UAAU,CACnB4H,WACAlE,WACAE,eAEDnJ,MAAK,SAACC,GAAD,OAASA,EAAIC,UgBwBnBmN,CAAS,CAAEpE,WAAUE,WAAUgE,aAAYnN,MAAK,SAACyF,GAE/C,GAAgB,IAAZA,EAAKC,GAEP,OADApB,GAAa,GACNQ,EAAgBW,EAAKE,SAG9BzH,EAAauH,EAAKtH,OAElBmC,IAAQN,MAAK,SAACuJ,GACQ,IAAhBA,EAAS7D,KACXpB,GAAa,GAEbpG,EAAa,MACb4G,EAAgByE,EAASC,aAE3BzH,EAAQwH,EAAS9D,MAEjBxD,EAAQM,KAAK,YAuBf,UACE,cAACuK,GAAD,2BACCjI,GAAgB,cAAC,GAAD,UAAeA,IAChC,eAACkI,GAAD,uBAEE,uBACEnJ,MAAOuJ,EACPrH,SArBmB,SAACX,GAC5BiI,EAAYjI,EAAErC,OAAOc,QAqBbmC,QAASsD,OAGb,eAAC0D,GAAD,uBAEE,uBACEnJ,MAAOqF,EACPnD,SAzBmB,SAACX,GAC5B+D,EAAY/D,EAAErC,OAAOc,QAyBbmC,QAASsD,OAGb,eAAC0D,GAAD,uBAEE,uBACE5G,KAAK,WACLvC,MAAOuF,EACPrD,SA9BmB,SAACX,GAC5BiE,EAAYjE,EAAErC,OAAOc,QA8BbmC,QAASsD,OAGb,cAAC2D,GAAD,UACG3I,EACC,cAAC,GAAD,gDAEA,qCACE,cAAC4I,GAAD,CAAa7K,GAAG,SAAhB,sCACA,4DC3JC,SAASkL,KAAO,IAAD,EACc/I,oBAAS,GADvB,mBACrB3C,EADqB,KACL2L,EADK,OAEMhJ,oBAAS,GAFf,mBAErBF,EAFqB,KAEVC,EAFU,OAIJC,mBAAS,MAJL,mBAIrBzC,EAJqB,KAIfC,EAJe,KAqB5B,OAfA5C,qBAAU,WAEJb,IAEFgC,IAAQN,MAAK,SAACuJ,GACRA,EAAS7D,KACX3D,EAAQwH,EAAS9D,MACjB8H,GAAgB,OAIpBA,GAAgB,KAEjB,IAGD,eAACzP,EAAY0P,SAAb,CAAsB5J,MAAO,CAAE9B,OAAMC,WAArC,UACE,cAAC,IAAD,IACA,cAAC/D,EAAewP,SAAhB,CACE5J,MAAO,CAAES,YAAWC,eAAc1C,kBADpC,SAIE,eAAC,IAAD,WAEE,cAAC5C,EAAD,IACA,cAACR,EAAD,CAAU8D,QAAS,kBAAMhD,EAAe,eACxC,cAACqC,EAAD,IAEA,eAAC,IAAD,WAEE,cAAC,IAAD,CAAOQ,OAAK,EAACsL,KAAK,IAAlB,SACE,cAACpF,GAAD,MAEF,cAAC,IAAD,CAAOlG,OAAK,EAACsL,KAAK,cAAlB,SACE,cAAC9B,GAAD,MAEF,cAAC,IAAD,CAAOxJ,OAAK,EAACsL,KAAK,YAAlB,SACE,cAAChB,GAAD,MAEF,cAAC,IAAD,CAAOtK,OAAK,EAACsL,KAAK,YAAlB,SACE,cAACzD,GAAD,MAEF,cAAC,IAAD,CAAO7H,OAAK,EAACsL,KAAK,iBAAlB,SACE,cAACrJ,GAAD,MAEF,cAAC,IAAD,CAAOjC,OAAK,EAACsL,KAAK,YAAlB,SACE,cAACP,GAAD,MAEF,cAAC,IAAD,CAAO/K,OAAK,EAACsL,KAAK,SAAlB,SACE,cAACzE,GAAD,SAGJ,cAACpG,EAAD,Y,MC3EV8K,IAASC,OACP,cAAC,IAAD,CAAe/O,MjBNI,CACnBmC,SAAU,CACR+F,GAAI,OACJ5F,GAAI,OACJE,GAAI,OACJiC,GAAI,OACJ9B,GAAI,OACJmC,KAAM,OACNM,OAAQ,OACRuI,UAAW,OACXvL,MAAO,QAGTnC,OAAQ,CACNwC,YAAa,UACbuM,cAAe,UACfzK,eAAgB,2BAChB0K,eAAgB,UAChB3C,WAAY,UACZ4C,UAAW,UACX5J,WAAY,UACZ6J,SAAU,UACVhP,YAAa,OACb8B,aAAc,UACd2C,gBAAiB,sBACjB5C,iBAAkB,sBAClBsC,YAAa,qBACbpE,gBAAiB,sBACjBkP,aAAc,UACd/M,aAAc,YiBvBhB,SACE,cAACqM,GAAD,MAEF7N,SAASC,eAAe,W","file":"static/js/main.b14f2a02.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\n// 初始值為 null\nexport const AuthContext = createContext(null);\nexport const LoadingContext = createContext(null);\n","import { useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { FaChevronUp } from \"react-icons/fa\";\nimport styled from \"styled-components\";\n\nconst TOKEN_NAME = \"token\";\n\n// 存取 token 到 localStorage\nexport const setAuthToken = (token) => {\n  localStorage.setItem(TOKEN_NAME, token);\n};\n\n// 從 localStorage 撈取 token\nexport const getAuthToken = () => {\n  return localStorage.getItem(TOKEN_NAME);\n};\n\n// 由 totalPages 撈取總頁數\nexport const getPages = (totalPages) => {\n  let pages = [];\n  for (let i = 1; i <= totalPages; i++) {\n    pages.push(i);\n  }\n  return pages;\n};\n\n// 回到頂端\nexport const ClickTop = styled(FaChevronUp)`\n  cursor: pointer;\n  position: fixed;\n  width: 50px;\n  height: 50px;\n  padding: 10px;\n  border-radius: 4px;\n  bottom: 80px;\n  right: 5%;\n  color: ${(props) => props.theme.colors.neutralDarkGrey};\n  background: ${(props) => props.theme.colors.neutralSnow};\n  transition: ease-in-out 0.3s;\n  z-index: 100;\n\n  :hover {\n    color: ${(props) => props.theme.colors.neutralSnow};\n    background: ${(props) => props.theme.colors.neutralDarkGrey};\n  }\n`;\n\n// 路徑改變就自動到 TOP\nexport function ScrollToTop() {\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return null;\n}\n\n// 錨點功能\nexport const scrollToAnchor = (anchorName) => {\n  if (anchorName) {\n    let anchorElement = document.getElementById(anchorName);\n    if (anchorElement) {\n      anchorElement.scrollIntoView();\n    }\n  }\n};\n","import { getAuthToken } from \"./utils\";\n\nconst BASE_URL = \"https://react-demo-json-server.herokuapp.com\";\n\n// 讀取所有文章\nexport const getPosts = () =>\n  fetch(`${BASE_URL}/posts?_sort=createdAt&_order=desc`).then((res) =>\n    res.json()\n  );\n\n// 讀取單篇文章\nexport const getPost = (id) =>\n  fetch(`${BASE_URL}/posts?id=${id}&_expand=user`).then((res) => res.json());\n\n// 依照X頁數，讀取Y篇文章\nexport const getLimitPosts = (page, limit) =>\n  fetch(\n    `${BASE_URL}/posts?_page=${page}&_limit=${limit}&_sort=createdAt&_order=desc`\n  ).then((res) => res.json());\n\n// 刪除文章\nexport const deletePost = (id) => {\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/posts/${id}`, {\n    method: \"DELETE\",\n    headers: {\n      authorization: `Bearer ${token}`,\n      \"content-type\": \"application/json\",\n    },\n  }).then((res) => res.json());\n};\n\n// 發布文章\nexport const addNewPost = (title, image, body) => {\n  // 從 localStorage 拿取 token\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/posts`, {\n    method: \"POST\",\n    headers: {\n      authorization: `Bearer ${token}`,\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      title,\n      image,\n      body,\n    }),\n  }).then((res) => res.json());\n};\n\n// 編輯文章\nexport const editPost = (id, title, image, body) => {\n  // 從 localStorage 拿取 token\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/posts/${id}`, {\n    method: \"PATCH\",\n    headers: {\n      authorization: `Bearer ${token}`,\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      title,\n      image,\n      body,\n    }),\n  }).then((res) => res.json());\n};\n\n// 註冊\nexport const register = ({ username, password, nickname }) => {\n  return fetch(`${BASE_URL}/register`, {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      nickname,\n      username,\n      password,\n    }),\n  }).then((res) => res.json());\n};\n\n// 登入\nexport const login = ({ username, password }) => {\n  return fetch(`${BASE_URL}/login`, {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      username,\n      password,\n    }),\n  }).then((res) => res.json());\n};\n\n// 身分驗證\nexport const getMe = () => {\n  // 從 localStorage 拿取 token\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/me`, {\n    headers: {\n      authorization: `Bearer ${token}`,\n    },\n  }).then((res) => res.json());\n};\n\n// Imgur API\nexport const uploadImage = (data) => {\n  const formData = new FormData();\n  formData.append(\"image\", data);\n  return fetch(\"https://api.imgur.com/3/image\", {\n    method: \"POST\",\n    headers: {\n      Authorization: \"Client-ID a342ee4fb0cc0cc\",\n    },\n    body: formData,\n  }).then((data) => data.json());\n};\n","export const MEDIA_QUERY = \"@media screen and (max-width: 768px)\";\n\nexport const theme = {\n  fontSize: {\n    h1: \"30px\",\n    h2: \"28px\",\n    h3: \"24px\",\n    h4: \"20px\",\n    h5: \"18px\",\n    body: \"16px\",\n    button: \"16px\",\n    postTitle: \"34px\",\n    brand: \"40px\",\n  },\n\n  colors: {\n    mainPrimary: \"#89b189\",\n    mainSecondary: \"#f0f0f0\",\n    mainBackground: \"rgba(246, 246, 246, 0.9)\",\n    homeBackground: \"#fffff0\",\n    uiPositive: \"#00cb6f\",\n    uiWarning: \"#ffbc2c\",\n    uiNegative: \"#ee7764\",\n    uiActive: \"#6e70ff\",\n    neutralSnow: \"#eee\",\n    neutralBrown: \"#3e2001\",\n    neutralPaleGrey: \"rgba(0, 0, 0, 0.15)\",\n    neutralLightGrey: \"rgba(0, 0, 0, 0.35)\",\n    neutralGrey: \"rgba(0, 0, 0, 0.6)\",\n    neutralDarkGrey: \"rgba(0, 0, 0, 0.85)\",\n    neutralBlack: \"#000000\",\n    neutralWhite: \"#ffffff\",\n  },\n};\n","import React, { useContext, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { Link, NavLink, useHistory, useLocation } from \"react-router-dom\";\n\nimport { AuthContext, LoadingContext } from \"../../contexts\";\nimport { setAuthToken, scrollToAnchor } from \"../../utils\";\nimport { MEDIA_QUERY } from \"../../constants/theme\";\n\nconst HeaderContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 40px;\n  box-shadow: 2px 5px 10px ${(props) => props.theme.colors.neutralLightGrey};\n  background: ${(props) => props.theme.colors.neutralBrown};\n  opacity: 0.95;\n\n  ${MEDIA_QUERY} {\n    flex-direction: column;\n    justify-content: space-evenly;\n    align-items: center;\n    padding: 12px 20px;\n  }\n`;\n\nconst Brand = styled.div`\n  font-size: ${(props) => props.theme.fontSize.brand};\n  white-space: nowrap;\n  font-weight: 700;\n\n  a {\n    color: ${(props) => props.theme.colors.neutralSnow};\n    padding: 8px;\n\n    :hover {\n      color: ${(props) => props.theme.colors.neutralWhite};\n    }\n  }\n\n  ${MEDIA_QUERY} {\n    font-size: ${(props) => props.theme.fontSize.h2};\n    padding: 6px 0;\n  }\n`;\n\nconst NavbarList = styled.div`\n  display: flex;\n  align-items: center;\n  margin: 0;\n  padding: 0;\n  font-weight: 700;\n\n  ${MEDIA_QUERY} {\n    font-size: ${(props) => props.theme.fontSize.h3};\n    justify-content: space-evenly;\n  }\n\n  div {\n    cursor: pointer;\n    width: 86px;\n    padding: 6px 0;\n    margin: 0 6px;\n    text-align: center;\n    color: ${(props) => props.theme.colors.neutralSnow};\n    border-bottom: 3px solid transparent;\n    transition: ease-in-out all 0.3s;\n\n    :hover {\n      border-bottom: 3px solid ${(props) => props.theme.colors.mainPrimary};\n      color: ${(props) => props.theme.colors.mainPrimary};\n    }\n\n    &.${(props) => props.activeClassName} {\n      border-bottom: 3px solid ${(props) => props.theme.colors.mainPrimary};\n      color: ${(props) => props.theme.colors.mainPrimary};\n    }\n\n    /* RWD */\n    ${MEDIA_QUERY} {\n      font-size: ${(props) => props.theme.fontSize.h5};\n      margin: 0;\n\n      &.${(props) => props.activeClassName} {\n        color: ${(props) => props.theme.colors.mainPrimary};\n      }\n    }\n  }\n`;\n\nconst StyledLink = styled(NavLink)`\n  width: 86px;\n  padding: 6px 0;\n  margin: 0 6px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ${(props) => props.theme.colors.neutralSnow};\n  border-bottom: 3px solid transparent;\n  transition: ease-in-out all 0.3s;\n\n  :hover {\n    border-bottom: 3px solid ${(props) => props.theme.colors.mainPrimary};\n    color: ${(props) => props.theme.colors.mainPrimary};\n  }\n\n  &.${(props) => props.activeClassName} {\n    border-bottom: 3px solid ${(props) => props.theme.colors.mainPrimary};\n    color: ${(props) => props.theme.colors.mainPrimary};\n  }\n\n  /* RWD */\n  ${MEDIA_QUERY} {\n    font-size: ${(props) => props.theme.fontSize.h5};\n    margin: 0;\n\n    &.${(props) => props.activeClassName} {\n      color: ${(props) => props.theme.colors.mainPrimary};\n    }\n  }\n`;\n\nconst LoadingGetMe = styled.div`\n  min-width: 184px;\n  padding: 6px 0;\n  margin: 0 12px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ${(props) => props.theme.colors.neutralSnow};\n\n  ${MEDIA_QUERY} {\n    font-size: ${(props) => props.theme.fontSize.h5};\n    margin: 0;\n  }\n`;\n\nexport default function Header() {\n  const { isLoadingGetMe } = useContext(LoadingContext);\n  const { user, setUser } = useContext(AuthContext);\n  const location = useLocation();\n  const history = useHistory();\n\n  const handleLogout = () => {\n    setAuthToken(\"\");\n    setUser(null);\n    if (location.pathname !== \"/\") {\n      history.push(\"/\");\n    }\n  };\n\n  return (\n    <HeaderContainer id=\"page-top\">\n      <Brand>\n        <Link exact to=\"/\" replace>\n          Succulents Society.\n        </Link>\n      </Brand>\n      <NavbarList>\n        {location.pathname !== \"/\" ? (\n          <StyledLink exact to=\"/\" onClick={() => scrollToAnchor(\"about-top\")}>\n            回到首頁\n          </StyledLink>\n        ) : (\n          <StyledLink\n            exact\n            to=\"/#about-top\"\n            onClick={() => scrollToAnchor(\"about-top\")}\n          >\n            關於本站\n          </StyledLink>\n        )}\n\n        <StyledLink exact to=\"/post-list\" replace activeClassName=\"active\">\n          文章列表\n        </StyledLink>\n        {isLoadingGetMe ? (\n          <LoadingGetMe>資料讀取中...</LoadingGetMe>\n        ) : (\n          <>\n            {!user && (\n              <StyledLink exact to=\"/register\" replace activeClassName=\"active\">\n                註冊\n              </StyledLink>\n            )}\n            {!user && (\n              <StyledLink exact to=\"/login\" replace activeClassName=\"active\">\n                登入\n              </StyledLink>\n            )}\n            {user && (\n              <StyledLink exact to=\"/new-post\" replace activeClassName=\"active\">\n                發布文章\n              </StyledLink>\n            )}\n            {user && (\n              <StyledLink to=\"\" replace onClick={handleLogout}>\n                登出\n              </StyledLink>\n            )}\n          </>\n        )}\n      </NavbarList>\n    </HeaderContainer>\n  );\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { FaGithub } from \"react-icons/fa\";\n\nimport { MEDIA_QUERY } from \"../../constants/theme\";\n\nconst FooterContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 14px 60px;\n  letter-spacing: 1.1px;\n  line-height: 1.5;\n  background: ${(props) => props.theme.colors.neutralDarkGrey};\n  color: ${(props) => props.theme.colors.neutralSnow};\n\n  ${MEDIA_QUERY} {\n    display: block;\n    text-align: center;\n    padding: 8px 20px;\n  }\n`;\n\nconst CopyRight = styled.div`\n  display: flex;\n  span {\n    margin: 0 10px;\n  }\n\n  a {\n    display: flex;\n    align-items: center;\n  }\n  ${MEDIA_QUERY} {\n    justify-content: center;\n  }\n`;\n\nconst GithubIcon = styled(FaGithub)`\n  width: 24px;\n  height: 24px;\n  color: ${(props) => props.theme.colors.neutralSnow};\n\n  :hover {\n    color: ${(props) => props.theme.colors.neutralWhite};\n  }\n`;\n\nexport default function Footer() {\n  return (\n    <FooterContainer>\n      <p>※ 本站僅供測試使用，請勿留下真實資訊</p>\n      <CopyRight>\n        <p>Copyright © 2020</p>\n        <span>{\" ♥ \"}Powered by React.js</span>\n        <a href=\"https://github.com/heidiliu2020\" target=\"_blank\">\n          <GithubIcon></GithubIcon>\n        </a>\n      </CopyRight>\n    </FooterContainer>\n  );\n}\n","import React, { useState, useContext, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { useHistory, useParams } from \"react-router-dom\";\n\nimport { MEDIA_QUERY } from \"../../constants/theme\";\nimport { editPost, getPost } from \"../../WebAPI\";\nimport { LoadingContext } from \"../../contexts\";\n\nconst EditPostWrapper = styled.div`\n  padding: 80px 60px;\n\n  ${MEDIA_QUERY} {\n    padding: 50px 20px;\n  }\n`;\n\nconst EditPostForm = styled.form`\n  max-width: 700px;\n  margin: 0 auto;\n  padding: 40px 60px;\n  box-shadow: 0px 2px 12px ${(props) => props.theme.colors.neutralGrey};\n  border-radius: 10px;\n  background: ${(props) => props.theme.colors.mainBackground};\n  font-size: ${(props) => props.theme.fontSize.h5};\n\n  ${MEDIA_QUERY} {\n    padding: 20px 30px;\n  }\n`;\nconst EditPostLabel = styled.div`\n  margin: 10px 0;\n  font-size: ${(props) => props.theme.fontSize.h4};\n`;\n\nconst EditPostTitleInput = styled.input`\n  width: 100%;\n  padding: 8px;\n  font-size: ${(props) => props.theme.fontSize.h5};\n  border: 1px solid ${(props) => props.theme.colors.neutralPaleGrey};\n  letter-spacing: 1.5px;\n`;\n\nconst NewPostImage = styled.input`\n  padding: 8px;\n  font-size: ${(props) => props.theme.fontSize.body};\n`;\n\nconst PreviewImage = styled.div`\n  display: flex;\n  align-items: center;\n  margin: 20px 0;\n\n  img {\n    width: 240px;\n    height: 180px;\n    margin-right: 50px;\n    border-radius: 6px;\n    ${(props) =>\n      props.value\n        ? `background:transparent`\n        : `background:url(https://ddo0fzhfvians.cloudfront.net/uploads/icons/png/17409946451553073813-512.png) center/cover`};\n  }\n\n  ${MEDIA_QUERY} {\n    flex-direction: column;\n    justify-content: center;\n\n    img {\n      margin: 0;\n    }\n  }\n`;\n\nconst EditPostTextArea = styled.textarea`\n  width: 100%;\n  padding: 8px;\n  border: 1px solid ${(props) => props.theme.colors.neutralPaleGrey};\n  font-size: ${(props) => props.theme.fontSize.h5};\n  letter-spacing: 1.5px;\n`;\n\nconst EditPostSubmit = styled.div`\n  margin-top: 16px;\n  text-align: center;\n\n  button {\n    color: ${(props) => props.theme.colors.neutralSnow};\n    background-color: ${(props) => props.theme.colors.neutralGrey};\n    font-size: ${(props) => props.theme.fontSize.button};\n    padding: 6px 16px;\n    border-radius: 20px;\n    border: 1px solid ${(props) => props.theme.colors.neutralGrey};\n  }\n`;\n\nconst ErrorMessage = styled.div`\n  color: ${(props) => props.theme.colors.uiNegative};\n  font-weight: 700;\n`;\n\nconst EditPostLoading = styled.div`\n  font-weight: 700;\n  color: ${(props) => props.theme.colors.neutralGrey};\n  padding: 9px;\n`;\n\nexport default function EditPostPage() {\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n  const [title, setTitle] = useState(\"\");\n  const [imageUrl, setImageUrl] = useState(\"\");\n  const [body, setBody] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState();\n  const history = useHistory();\n  const { id } = useParams();\n\n  useEffect(() => {\n    setIsLoading(true);\n    getPost(id)\n      .then((post) => {\n        setTitle(post[0].title);\n        setImageUrl(post[0].image);\n        setBody(post[0].body);\n      })\n      .then(() => setIsLoading(false));\n  }, [setIsLoading]);\n\n  const handleTitleChange = (e) => {\n    setTitle(e.target.value);\n  };\n\n  const handleBodyChange = (e) => {\n    setBody(e.target.value);\n  };\n\n  const handleImageChange = (e) => {\n    setImageUrl(e.target.value);\n  };\n\n  const handleInputFocus = () => {\n    setErrorMessage(null);\n  };\n\n  const handleTextareaFocus = () => {\n    setErrorMessage(null);\n  };\n\n  const handleEditPostSubmit = (e) => {\n    // 阻止預設的表單發送行為\n    e.preventDefault();\n    setIsLoading(true);\n    editPost(id, title, imageUrl, body)\n      .then((data) => {\n        setIsLoading(false);\n        if (data.ok === 0) {\n          setErrorMessage(data.message);\n          return;\n        }\n        history.push(\"/post-list\");\n      })\n      .catch((err) => {\n        setErrorMessage(err.message);\n      });\n  };\n\n  return (\n    <EditPostWrapper>\n      <EditPostForm onSubmit={handleEditPostSubmit}>\n        {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\n        <EditPostLabel>文章標題</EditPostLabel>\n        <EditPostTitleInput\n          value={title}\n          onChange={handleTitleChange}\n          onFocus={handleInputFocus}\n        />\n        <EditPostLabel>文章內容</EditPostLabel>\n        <EditPostTextArea\n          value={body}\n          onChange={handleBodyChange}\n          onFocus={handleTextareaFocus}\n          rows={14}\n        />\n        <EditPostLabel>上傳圖片</EditPostLabel>\n        <PreviewImage>\n          <img src={imageUrl} alt=\"預覽圖片\"></img>\n          <NewPostImage\n            type=\"text\"\n            value={imageUrl}\n            placeholder=\"請輸入圖片網址\"\n            onChange={(e) => handleImageChange(e)}\n          ></NewPostImage>\n        </PreviewImage>\n        <EditPostSubmit>\n          {isLoading ? (\n            <EditPostLoading>編輯中...</EditPostLoading>\n          ) : (\n            <button>編輯</button>\n          )}\n        </EditPostSubmit>\n      </EditPostForm>\n    </EditPostWrapper>\n  );\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { PuffLoader } from \"react-spinners\";\n\nconst LoadingWapper = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: ${(props) => props.theme.colors.neutralGrey};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport default function Loading() {\n  return (\n    <LoadingWapper>\n      <PuffLoader size={60} color={\"#4A90E2\"} />\n    </LoadingWapper>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/bg_2.d6fe4d1b.jpg\";","import React from \"react\";\nimport styled from \"styled-components\";\nimport Background from \"../images/bg_2.jpg\";\nimport { MEDIA_QUERY } from \"../../constants/theme\";\n\nconst BannerContainer = styled.div`\n  position: relative;\n  height: 400px;\n  background: url(${Background}) no-repeat center / cover;\n\n  ${MEDIA_QUERY} {\n    height: 320px;\n  }\n`;\n\nconst BannerContent = styled.div`\n  position: absolute;\n  bottom: -30px;\n  right: 100px;\n  line-height: 1.2;\n  background: ${(props) => props.theme.colors.mainPrimary};\n  padding: 12px 50px 40px 12px;\n  opacity: 0.8;\n\n  ${MEDIA_QUERY} {\n    bottom: -20px;\n    right: 40px;\n    padding: 10px 40px 30px 10px;\n  }\n`;\n\nconst BannerTitle = styled.div`\n  color: ${(props) => props.theme.colors.neutralWhite};\n  font-size: ${(props) => props.theme.fontSize.brand};\n  font-weight: 700;\n\n  ${MEDIA_QUERY} {\n    font-size: ${(props) => props.theme.fontSize.h1};\n  }\n`;\n\nexport default function Banner() {\n  return (\n    <BannerContainer>\n      <BannerContent>\n        <BannerTitle>\n          <p>無肉令人瘦—— </p>\n          <span>不如來點多肉吧！</span>\n        </BannerTitle>\n      </BannerContent>\n    </BannerContainer>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/bg_3.939d42f9.jpg\";","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { MEDIA_QUERY } from \"../../constants/theme\";\nimport bg from \"../../components/images/bg_3.jpg\";\n\nconst AboutWrapper = styled.div`\n  height: 550px;\n  background: url(${bg}) scroll no-repeat center / cover;\n  margin-top: 50px;\n  padding: 40px;\n  text-align: center;\n  box-shadow: 2px 2px 2px ${(props) => props.theme.colors.neutralGrey};\n\n  ${MEDIA_QUERY} {\n    padding: 40px 20px;\n  }\n`;\n\nconst AboutTitle = styled.h2`\n  text-align: center;\n  font-size: ${(props) => props.theme.fontSize.h1};\n  font-weight: 700;\n  margin-bottom: 20px;\n`;\n\nconst AboutContent = styled.div`\n  line-height: 2;\n  font-size: ${(props) => props.theme.fontSize.h4};\n\n  b {\n    font-weight: 700;\n  }\n`;\n\nexport default function AboutPage() {\n  return (\n    <AboutWrapper id=\"about-top\">\n      <AboutTitle>關於 SS</AboutTitle>\n      <AboutContent>\n        <p>Succulents Society 存在的目的，是為了讓更多人感受多肉的魅力。</p>\n        <p>深信分享會讓世界變得更加美好。</p>\n      </AboutContent>\n    </AboutWrapper>\n  );\n}\n","import React, { useState, useEffect, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport PropTypes from \"prop-types\";\nimport { Link } from \"react-router-dom\";\nimport { FaAngleDoubleRight } from \"react-icons/fa\";\n\nimport { MEDIA_QUERY } from \"../../constants/theme\";\nimport { getLimitPosts } from \"../../WebAPI\";\nimport { LoadingContext } from \"../../contexts\";\nimport Loading from \"../../components/Loading\";\nimport Banner from \"../../components/Banner\";\nimport AboutPage from \"../AboutPage\";\n\nconst HomePageWrapper = styled.div`\n  background: ${(props) => props.theme.colors.neutralWhite};\n`;\n\nconst PostsListContainer = styled.div`\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 60px 30px;\n  border-top: 1px solid ${(props) => props.theme.colors.neutralPaleGrey};\n\n  section {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-evenly;\n  }\n\n  ${MEDIA_QUERY} {\n    flex-direction: column;\n    padding: 40px 20px;\n  }\n`;\n\nconst PostsListTitle = styled.div`\n  display: inline-block;\n  font-size: ${(props) => props.theme.fontSize.h1};\n  font-weight: 700;\n  color: ${(props) => props.theme.colors.neutralWhite};\n  background: ${(props) => props.theme.colors.neutralBrown};\n  margin: 50px 0;\n  padding: 16px 80px 60px 20px;\n  opacity: 0.8;\n`;\n\nconst AboutTitle = styled(PostsListTitle)`\n  margin: 80px 0 0 0;\n`;\n\nconst BackgroundClip = styled.div`\n  position: absolute;\n  font-size: 250px;\n  transform: rotate(-90deg);\n  color: ${(props) => props.theme.colors.mainPrimary};\n  opacity: 0.3;\n  top: 1160px;\n  left: -350px;\n  z-index: 1;\n\n  ${MEDIA_QUERY} {\n    font-size: 200px;\n    right: 10px;\n  }\n`;\n\nconst PostContainer = styled.div`\n  margin: 30px;\n  width: 300px;\n  overflow: hidden;\n  border-radius: 6px;\n  box-shadow: 2px 5px 10px ${(props) => props.theme.colors.neutralLightGrey};\n  background: ${(props) => props.theme.colors.neutralBrown};\n  color: ${(props) => props.theme.colors.neutralWhite};\n  opacity: 0.95;\n  position: relative;\n  z-index: 10;\n\n  :hover {\n    opacity: 1;\n  }\n`;\n\nconst PostImage = styled.div`\n  max-width: 100%;\n  height: 250px;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n`;\n\nconst PostTitle = styled.div`\n  font-size: ${(props) => props.theme.fontSize.h3};\n  color: ${(props) => props.theme.colors.neutralWhite};\n  line-height: 1.2;\n  padding: 20px;\n`;\n\nconst PostPreview = styled.div`\n  width: 100%;\n  height: 100%;\n  padding: 24px;\n  background: ${(props) => props.theme.colors.neutralGrey};\n  display: none;\n\n  div {\n    font-size: ${(props) => props.theme.fontSize.h3};\n    color: ${(props) => props.theme.colors.neutralSnow};\n    letter-spacing: 3px;\n    line-height: 1.5;\n    /* 省略過長內容 */\n    display: -webkit-box;\n    -webkit-line-clamp: 5;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n`;\n\nconst PostContent = styled(Link)`\n  transition: ease-in all 1s;\n\n  :hover {\n    ${PostPreview} {\n      display: block;\n    }\n    ${PostImage} {\n      transform: scale(1.1);\n      transition: ease-in-out all 0.5s;\n    }\n  }\n`;\n\nconst ReadMoreContainer = styled.div`\n  font-size: ${(props) => props.theme.fontSize.h3};\n  display: flex;\n  flex-direction: row-reverse;\n  align-items: center;\n  margin: 20px 0;\n\n  a {\n    color: ${(props) => props.theme.colors.neutralSnow};\n    background: ${(props) => props.theme.colors.neutralLightGrey};\n    padding: 16px;\n    border-radius: 4px;\n\n    div {\n      display: flex;\n      align-items: center;\n    }\n\n    :hover {\n      color: ${(props) => props.theme.colors.neutralWhite};\n      background: ${(props) => props.theme.colors.mainPrimary};\n    }\n  }\n\n  ${MEDIA_QUERY} {\n    justify-content: center;\n  }\n`;\n\nconst RightIcon = styled(FaAngleDoubleRight)`\n  width: 40px;\n  height: 40px;\n  margin-left: 10px;\n`;\n\nfunction PostList({ post }) {\n  return (\n    <PostContainer>\n      <PostContent to={`/post/${post.id}`}>\n        <PostImage style={{ backgroundImage: `url(${post.image})` }}>\n          <PostPreview>\n            <div>{post.body}</div>\n          </PostPreview>\n        </PostImage>\n        <PostTitle>{post.title}</PostTitle>\n      </PostContent>\n    </PostContainer>\n  );\n}\n\nPostList.propTypes = {\n  post: PropTypes.object,\n};\n\nexport default function HomePage() {\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n  const [posts, setPosts] = useState([]);\n\n  useEffect(() => {\n    setIsLoading(true);\n    getLimitPosts(1, 6)\n      .then((posts) => setPosts(posts))\n      .then(() => {\n        setIsLoading(false);\n      });\n  }, [setIsLoading]);\n\n  return (\n    <HomePageWrapper>\n      {isLoading ? (\n        <Loading />\n      ) : (\n        <>\n          <Banner />\n          <PostsListTitle>\n            <div>多肉討論區</div>\n          </PostsListTitle>\n          <BackgroundClip>Succulents</BackgroundClip>\n          <PostsListContainer>\n            <section>\n              {posts &&\n                posts.map((post) => <PostList post={post} key={post.id} />)}\n            </section>\n            <ReadMoreContainer>\n              <Link to=\"/post-list\">\n                <div>\n                  查看更多<RightIcon></RightIcon>\n                </div>\n              </Link>\n            </ReadMoreContainer>\n          </PostsListContainer>\n          <AboutTitle>\n            <div>關於本站</div>\n          </AboutTitle>\n          <AboutPage />\n        </>\n      )}\n    </HomePageWrapper>\n  );\n}\n","import React, { useState, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { useHistory, Link } from \"react-router-dom\";\n\nimport { login, getMe } from \"../../WebAPI\";\nimport { setAuthToken } from \"../../utils\";\nimport { AuthContext, LoadingContext } from \"../../contexts\";\nimport { MEDIA_QUERY } from \"../../constants/theme\";\n\nconst LoginWrapper = styled.div`\n  padding: 200px 20px 300px 20px;\n\n  ${MEDIA_QUERY} {\n    padding: 200px 20px;\n  }\n`;\n\nconst LoginForm = styled.form`\n  max-width: 450px;\n  margin: 0 auto;\n  padding: 30px 50px;\n  box-shadow: 0px 2px 12px ${(props) => props.theme.colors.neutralGrey};\n  border-radius: 6px;\n  background: ${(props) => props.theme.colors.mainBackground};\n  font-size: ${(props) => props.theme.fontSize.h5};\n\n  p {\n    font-size: ${(props) => props.theme.fontSize.h5};\n    padding-bottom: 16px;\n  }\n\n  ${MEDIA_QUERY} {\n    padding: 30px;\n  }\n`;\n\nconst LoginTitle = styled.div`\n  font-size: ${(props) => props.theme.fontSize.h2};\n  font-weight: 700;\n  margin-bottom: 28px;\n  text-align: center;\n`;\n\nconst LoginInput = styled.div`\n  margin-bottom: 28px;\n\n  & input {\n    width: 100%;\n    padding: 8px;\n    font-size: ${(props) => props.theme.fontSize.h5};\n    outline: transparent;\n    border: 1px solid ${(props) => props.theme.colors.neutralPaleGrey};\n    border-radius: 5px;\n    letter-spacing: 1.5px;\n    margin-top: 8px;\n  }\n`;\n\nconst LoginSubmit = styled.div`\n  display: flex;\n  justify-content: space-evenly;\n\n  & button {\n    background: ${(props) => props.theme.colors.neutralGrey};\n    color: ${(props) => props.theme.colors.neutralSnow};\n  }\n\n  & button,\n  a {\n    border-radius: 20px;\n    font-size: ${(props) => props.theme.fontSize.h5};\n    padding: 6px 20px;\n    border: 1px solid ${(props) => props.theme.colors.neutralGrey};\n  }\n`;\n\nconst LinkToRegister = styled(Link)`\n  display: flex;\n  align-items: center;\n  background: ${(props) => props.theme.colors.neutralSnow};\n  color: ${(props) => props.theme.colors.neutralGrey};\n`;\n\nconst ErrorMessage = styled.div`\n  margin-bottom: 16px;\n  color: ${(props) => props.theme.colors.uiNegative};\n  font-weight: 700;\n`;\n\nconst SubmitLoading = styled.div`\n  font-weight: 700;\n  color: ${(props) => props.theme.colors.neutralGrey};\n  padding: 10px;\n`;\n\nexport default function LoginPage() {\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n  const { setUser } = useContext(AuthContext);\n  // 在 React 中 value 若是 undefined，等同於沒有傳 value\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState();\n  const history = useHistory();\n\n  // 阻止送出表單\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n    login({ username, password }).then((data) => {\n      // 若 ok 為 0 代表錯誤\n      if (data.ok === 0) {\n        setIsLoading(false);\n        return setErrorMessage(data.message);\n      }\n      // 成功的話就把 token 存到 localStorage\n      setAuthToken(data.token);\n\n      getMe().then((response) => {\n        if (response.ok !== 1) {\n          setIsLoading(false);\n          // 在 getMe() 出錯代表還沒成功登入，因此要把 token 清空\n          setAuthToken(null);\n          setErrorMessage(response.toString());\n        }\n        setUser(response.data);\n        // 並導回首頁\n        history.push(\"/\");\n      });\n    });\n  };\n\n  const handleInputFocus = () => {\n    setErrorMessage(null);\n  };\n\n  const handleUsernameChange = (e) => {\n    setUsername(e.target.value);\n  };\n\n  const handlePasswordChange = (e) => {\n    setPassword(e.target.value);\n  };\n\n  return (\n    <LoginWrapper>\n      <LoginForm onSubmit={handleSubmit}>\n        <LoginTitle>登入</LoginTitle>\n        <p>※ 此論壇僅供測試用，密碼均設為 React</p>\n        {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\n\n        <LoginInput>\n          username:\n          <input\n            value={username}\n            onChange={handleUsernameChange}\n            onFocus={handleInputFocus}\n          />\n        </LoginInput>\n        <LoginInput>\n          password:\n          <input\n            type=\"password\"\n            value={password}\n            onChange={handlePasswordChange}\n            onFocus={handleInputFocus}\n          />\n        </LoginInput>\n        <LoginSubmit>\n          {isLoading ? (\n            <SubmitLoading>資料驗證中...</SubmitLoading>\n          ) : (\n            <>\n              <LinkToRegister to=\"/register\">建立帳號</LinkToRegister>\n              <button>登入</button>\n            </>\n          )}\n        </LoginSubmit>\n      </LoginForm>\n    </LoginWrapper>\n  );\n}\n","import React, { useState, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { MEDIA_QUERY } from \"../../constants/theme\";\nimport { addNewPost } from \"../../WebAPI\";\nimport { LoadingContext } from \"../../contexts\";\n\nconst NewPostWrapper = styled.div`\n  padding: 80px 60px;\n\n  ${MEDIA_QUERY} {\n    padding: 50px 20px;\n  }\n`;\n\nconst NewPostForm = styled.form`\n  max-width: 700px;\n  margin: 0 auto;\n  padding: 40px 60px;\n  box-shadow: 0px 2px 12px ${(props) => props.theme.colors.neutralGrey};\n  border-radius: 10px;\n  background: ${(props) => props.theme.colors.mainBackground};\n  font-size: ${(props) => props.theme.fontSize.h5};\n\n  ${MEDIA_QUERY} {\n    padding: 20px 30px;\n  }\n`;\nconst NewPostLabel = styled.div`\n  margin: 10px 0;\n  font-size: ${(props) => props.theme.fontSize.h4};\n`;\n\nconst NewPostTitleInput = styled.input`\n  width: 100%;\n  padding: 8px;\n  font-size: ${(props) => props.theme.fontSize.h5};\n  border: 1px solid ${(props) => props.theme.colors.neutralPaleGrey};\n  letter-spacing: 1.5px;\n`;\n\nconst NewPostImage = styled.input`\n  padding: 8px;\n  flex: 1;\n  font-size: ${(props) => props.theme.fontSize.body};\n`;\n\nconst PreviewImage = styled.div`\n  display: flex;\n  align-items: center;\n  margin: 20px 0;\n\n  img {\n    width: 240px;\n    height: 180px;\n    margin-right: 50px;\n    border-radius: 6px;\n    ${(props) =>\n      props.value\n        ? `background:transparent`\n        : `background:url(https://ddo0fzhfvians.cloudfront.net/uploads/icons/png/17409946451553073813-512.png) center/cover`};\n  }\n\n  ${MEDIA_QUERY} {\n    flex-direction: column;\n    justify-content: center;\n\n    img {\n      margin: 0;\n    }\n  }\n`;\n\nconst NewPostTextArea = styled.textarea`\n  width: 100%;\n  padding: 8px;\n  border: 1px solid ${(props) => props.theme.colors.neutralPaleGrey};\n  font-size: ${(props) => props.theme.fontSize.h5};\n  letter-spacing: 1.5px;\n`;\n\nconst NewPostSubmit = styled.div`\n  margin-top: 16px;\n  text-align: center;\n\n  button {\n    color: ${(props) => props.theme.colors.neutralSnow};\n    background-color: ${(props) => props.theme.colors.neutralGrey};\n    font-size: ${(props) => props.theme.fontSize.button};\n    padding: 6px 16px;\n    border-radius: 20px;\n    border: 1px solid ${(props) => props.theme.colors.neutralGrey};\n  }\n`;\n\nconst ErrorMessage = styled.div`\n  color: ${(props) => props.theme.colors.uiNegative};\n  font-weight: 700;\n`;\n\nconst NewPostLoading = styled.div`\n  font-weight: 700;\n  color: ${(props) => props.theme.colors.neutralGrey};\n  padding: 9px;\n`;\n\nexport default function NewPostPage() {\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n  const [title, setTitle] = useState(\"\");\n  const [body, setBody] = useState(\"\");\n  const [imageUrl, setImageUrl] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState();\n  const history = useHistory();\n\n  const handleTitleChange = (e) => {\n    setTitle(e.target.value);\n  };\n\n  const handleBodyChange = (e) => {\n    setBody(e.target.value);\n  };\n\n  const handleImageChange = (e) => {\n    setImageUrl(e.target.value);\n  };\n\n  const handleInputFocus = () => {\n    setErrorMessage(null);\n  };\n\n  const handleTextareaFocus = () => {\n    setErrorMessage(null);\n  };\n\n  const handleNewPostSubmit = (e) => {\n    // 阻止預設的表單發送行為\n    e.preventDefault();\n    setIsLoading(true);\n    if (!imageUrl) {\n      setImageUrl(\n        \"https://images.unsplash.com/photo-1586275381277-ef645628e280?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=751&q=80\"\n      );\n    }\n    addNewPost(title, imageUrl, body)\n      .then((data) => {\n        setIsLoading(false);\n        if (data.ok === 0) {\n          setErrorMessage(data.message);\n          return;\n        }\n        history.push(\"/\");\n      })\n      .catch((err) => {\n        setErrorMessage(err.message);\n      });\n  };\n\n  return (\n    <NewPostWrapper>\n      <NewPostForm onSubmit={handleNewPostSubmit}>\n        {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\n        <NewPostLabel>文章標題</NewPostLabel>\n        <NewPostTitleInput\n          value={title}\n          onChange={handleTitleChange}\n          onFocus={handleInputFocus}\n        />\n        <NewPostLabel>文章內容</NewPostLabel>\n        <NewPostTextArea\n          value={body}\n          onChange={handleBodyChange}\n          onFocus={handleTextareaFocus}\n          rows={14}\n        />\n        <NewPostLabel>上傳封面</NewPostLabel>\n        <PreviewImage>\n          <img src={imageUrl} alt=\"預覽圖片\"></img>\n          <NewPostImage\n            type=\"text\"\n            value={imageUrl}\n            placeholder=\"請輸入圖片網址\"\n            onChange={(e) => handleImageChange(e)}\n          ></NewPostImage>\n        </PreviewImage>\n        <NewPostSubmit>\n          {isLoading ? (\n            <NewPostLoading>發布中...</NewPostLoading>\n          ) : (\n            <button>發布</button>\n          )}\n        </NewPostSubmit>\n      </NewPostForm>\n    </NewPostWrapper>\n  );\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport PropTypes from \"prop-types\";\n\nimport { getLimitPosts } from \"../../WebAPI\";\n\nconst Root = styled.div``;\n\nconst PaginationContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  padding: 8px;\n  margin-top: 16px;\n`;\n\nconst PageButton = styled.button`\n  border: 1px solid #555;\n  border-radius: 50%;\n  padding: 8px 12px;\n  font-size: 16px;\n  outline: transparent;\n  cursor: pointer;\n  margin-right: 4px;\n\n  background: ${(props) =>\n    props.className === \"selected\"\n      ? \"rgba(0, 0, 0, 0.5)\"\n      : \"rgba(0, 0, 0, 0.1)\"};\n  color: ${(props) =>\n    props.className === \"selected\" ? \"#eee\" : \"rgba(0, 0, 0, 0.5)\"};\n\n  &:hover {\n    background: rgba(0, 0, 0, 0.5);\n    color: #eee;\n  }\n`;\n\nexport default function Pagination({\n  setPosts,\n  limit,\n  totalPages,\n  currentPage,\n  setCurrentPage,\n}) {\n  const handlePageClick = (page) => {\n    getLimitPosts(page, limit).then((posts) => setPosts(posts));\n    setCurrentPage(page);\n  };\n\n  return (\n    <Root>\n      <PaginationContainer>\n        {totalPages.current &&\n          totalPages.current.map((page) => (\n            <PageButton\n              key={page}\n              onClick={() => handlePageClick(page)}\n              className={currentPage === page ? \"selected\" : \"\"}\n            >\n              {page}\n            </PageButton>\n          ))}\n      </PaginationContainer>\n    </Root>\n  );\n}\n\nPagination.propTypes = {\n  setPosts: PropTypes.func,\n  limit: PropTypes.number,\n  totalPages: PropTypes.object,\n  currentPage: PropTypes.number,\n  setCurrentPage: PropTypes.func,\n};\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport PropTypes from \"prop-types\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport { MEDIA_QUERY } from \"../../constants/theme\";\nimport { getPosts, getLimitPosts, deletePost } from \"../../WebAPI\";\nimport { getPages } from \"../../utils\";\nimport Pagination from \"../../components/Pagination\";\nimport { LoadingContext, AuthContext } from \"../../contexts\";\nimport Loading from \"../../components/Loading\";\n\nconst PostListWrapper = styled.div`\n  min-height: 100vh;\n  padding: 100px 30px;\n\n  ${MEDIA_QUERY} {\n    padding: 40px 10px;\n  }\n`;\n\nconst PostsListContainer = styled.div`\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 40px 60px;\n  box-shadow: 0px 2px 12px ${(props) => props.theme.colors.neutralGrey};\n  border-radius: 10px;\n  background: ${(props) => props.theme.colors.mainBackground};\n\n  ${MEDIA_QUERY} {\n    padding: 30px;\n  }\n`;\n\nconst PostsListTitle = styled.div`\n  font-size: ${(props) => props.theme.fontSize.h1};\n  font-weight: 700;\n  color: ${(props) => props.theme.colors.neutralDarkGrey};\n  border-bottom: 1px solid ${(props) => props.theme.colors.neutralPaleGrey};\n  padding-bottom: 10px;\n`;\n\nconst PostImageContainer = styled.div`\n  overflow: hidden;\n  border-radius: 4px;\n`;\n\nconst PostImage = styled.div`\n  min-width: 140px;\n  height: 140px;\n  border-radius: 4px;\n  margin-left: 5px;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n`;\n\nconst PostContainer = styled.div`\n  display: block;\n  border-bottom: 1px solid ${(props) => props.theme.colors.neutralLightGrey};\n  padding: 30px 0;\n  font-weight: 700;\n\n  :hover {\n    ${PostImage} {\n      transition: ease-in-out all 0.5s;\n      transform: scale(1.2);\n    }\n  }\n\n  ${MEDIA_QUERY} {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n`;\n\nconst PostHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 10px;\n`;\n\nconst PostTitle = styled(Link)`\n  font-size: ${(props) => props.theme.fontSize.h3};\n  color: ${(props) => props.theme.colors.mainPrimary};\n  padding-bottom: 10px;\n`;\n\nconst SettingButton = styled.div`\n  display: flex;\n`;\n\nconst PostDeleteButton = styled.button`\n  color: ${(props) => props.theme.colors.neutralWhite};\n  background-color: ${(props) => props.theme.colors.uiNegative};\n  border: 1px solid transparent;\n  border-radius: 20px;\n  font-size: ${(props) => props.theme.fontSize.body};\n  width: 50px;\n  height: 30px;\n`;\n\nconst PostEditButton = styled(PostDeleteButton)`\n  background-color: ${(props) => props.theme.colors.uiPositive};\n  margin-right: 8px;\n`;\n\nconst PostDate = styled.div`\n  color: ${(props) => props.theme.colors.neutralGrey};\n`;\n\nconst PostBody = styled(Link)`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst PostContent = styled.div`\n  font-size: ${(props) => props.theme.fontSize.h4};\n  color: ${(props) => props.theme.colors.neutralDarkGrey};\n  letter-spacing: 3px;\n  line-height: 1.5;\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 530px;\n  max-height: 100px;\n`;\n\nfunction PostList({ user, post, handleDeletePost, handleEditPost }) {\n  return (\n    <PostContainer>\n      <PostHeader>\n        <PostTitle exact to={`/post/${post.id}`}>\n          {post.title}\n        </PostTitle>\n        {user && (user.username === \"admin\" || user.id === post.userId) && (\n          <SettingButton>\n            <PostEditButton\n              onClick={() => {\n                handleEditPost(post.id);\n              }}\n            >\n              編輯\n            </PostEditButton>\n            <PostDeleteButton\n              onClick={() => {\n                handleDeletePost(post.id);\n              }}\n            >\n              刪除\n            </PostDeleteButton>\n          </SettingButton>\n        )}\n      </PostHeader>\n      <PostDate>{new Date(post.createdAt).toLocaleDateString()}</PostDate>\n      <PostBody exact to={`/post/${post.id}`}>\n        <PostContent>{post.body}</PostContent>\n        <PostImageContainer>\n          <PostImage\n            style={{ backgroundImage: `url(${post.image})` }}\n          ></PostImage>\n        </PostImageContainer>\n      </PostBody>\n    </PostContainer>\n  );\n}\n\nPostList.propTypes = {\n  user: PropTypes.object,\n  post: PropTypes.object,\n  handleDeletePost: PropTypes.func,\n  handleEditPost: PropTypes.func,\n};\n\nexport default function PostListPage() {\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n  const { user } = useContext(AuthContext);\n\n  const [posts, setPosts] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const totalPages = useRef();\n  const limit = 5;\n  const history = useHistory();\n\n  useEffect(() => {\n    setIsLoading(true);\n    getPosts().then((posts) => {\n      // 讀取留言來計算總頁數\n      totalPages.current = getPages(Math.ceil(posts.length / limit));\n      // 讀取第一頁文章\n      getLimitPosts(1, limit)\n        .then((posts) => setPosts(posts))\n        .then(() => {\n          setIsLoading(false);\n        });\n    });\n  }, [setIsLoading]);\n\n  const handleDeletePost = (id) => {\n    setIsLoading(true);\n    deletePost(id)\n      .then(() => {\n        // 刪除後重新讀取第一頁文章\n        getLimitPosts(1, limit).then((posts) => setPosts(posts));\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .then(setIsLoading(false));\n  };\n\n  const handleEditPost = (id) => {\n    history.push(`/edit-post/${id}`);\n  };\n\n  return (\n    <PostListWrapper>\n      {isLoading ? (\n        <Loading />\n      ) : (\n        <PostsListContainer>\n          <PostsListTitle>多肉討論版</PostsListTitle>\n          {posts.map((post) => (\n            <PostList\n              post={post}\n              key={post.id}\n              user={user}\n              handleDeletePost={handleDeletePost}\n              handleEditPost={handleEditPost}\n            />\n          ))}\n          <Pagination\n            totalPages={totalPages}\n            limit={limit}\n            setPosts={setPosts}\n            currentPage={currentPage}\n            setCurrentPage={setCurrentPage}\n          />\n        </PostsListContainer>\n      )}\n    </PostListWrapper>\n  );\n}\n","import React, { useState, useEffect, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { useParams } from \"react-router-dom\";\n\nimport { MEDIA_QUERY } from \"../../constants/theme\";\nimport { getPost } from \"../../WebAPI\";\nimport { LoadingContext } from \"../../contexts\";\nimport Loading from \"../../components/Loading\";\n\nconst PostWrapper = styled.div`\n  padding: 100px 20px 300px 20px;\n\n  ${MEDIA_QUERY} {\n    padding: 100px 20px;\n  }\n`;\n\nconst PostContainer = styled.div`\n  max-width: 900px;\n  padding: 60px;\n  margin: 0 auto;\n  box-shadow: 0px 2px 12px ${(props) => props.theme.colors.neutralGrey};\n  border-radius: 6px;\n  background: ${(props) => props.theme.colors.mainBackground};\n\n  ${MEDIA_QUERY} {\n    padding: 40px 20px;\n  }\n`;\n\nconst PostTitle = styled.div`\n  font-size: ${(props) => props.theme.fontSize.postTitle};\n  font-weight: 700;\n`;\n\nconst PostHeader = styled.div`\n  margin: 16px 0;\n  padding: 8px 0;\n  border-top: 1px solid ${(props) => props.theme.colors.neutralLightGrey};\n  font-size: ${(props) => props.theme.fontSize.h5};\n  color: ${(props) => props.theme.colors.neutralGrey};\n  & div {\n    margin-top: 8px;\n  }\n`;\n\nconst PostAuthor = styled.div``;\n\nconst PostDate = styled.div``;\n\nconst PostImage = styled.div`\n  max-width: 100%;\n  height: 300px;\n  border-radius: 4px;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n`;\n\nconst PostBody = styled.div`\n  font-size: ${(props) => props.theme.fontSize.h4};\n  letter-spacing: 3px;\n  line-height: 1.5;\n  word-break: break-all;\n  white-space: pre-line;\n  margin-top: 20px;\n`;\n\nexport default function PostPage() {\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n  const [post, setPost] = useState(null);\n  const { id } = useParams();\n\n  useEffect(() => {\n    setIsLoading(true);\n    getPost(id)\n      .then((post) => setPost(post[0]))\n      .then(() => setIsLoading(false));\n  }, [setIsLoading]);\n\n  return (\n    <PostWrapper>\n      {isLoading ? (\n        <Loading />\n      ) : (\n        <PostContainer>\n          {/* post &&: 確認陣列裡面有東西才會執行 */}\n          <PostTitle>{post && post.title}</PostTitle>\n          <PostHeader>\n            <PostAuthor>作者：{post && post.user.username}</PostAuthor>\n            <PostDate>\n              時間：{post && new Date(post.createdAt).toLocaleString()}\n            </PostDate>\n          </PostHeader>\n          <PostImage\n            style={{ backgroundImage: `url(${post && post.image})` }}\n          ></PostImage>\n          <PostBody>{post && post.body}</PostBody>\n        </PostContainer>\n      )}\n    </PostWrapper>\n  );\n}\n","import React, { useState, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { useHistory, Link } from \"react-router-dom\";\n\nimport { register, getMe } from \"../../WebAPI\";\nimport { setAuthToken } from \"../../utils\";\nimport { AuthContext, LoadingContext } from \"../../contexts\";\nimport { MEDIA_QUERY } from \"../../constants/theme\";\n\nconst RegisterWrapper = styled.div`\n  padding: 200px 20px 300px 20px;\n\n  ${MEDIA_QUERY} {\n    padding: 200px 20px;\n  }\n`;\n\nconst RegisterForm = styled.form`\n  max-width: 450px;\n  margin: 0 auto;\n  padding: 30px 50px;\n  box-shadow: 0px 2px 12px ${(props) => props.theme.colors.neutralGrey};\n  border-radius: 6px;\n  background: ${(props) => props.theme.colors.mainBackground};\n  font-size: ${(props) => props.theme.fontSize.h5};\n\n  ${MEDIA_QUERY} {\n    padding: 30px;\n  }\n`;\n\nconst RegisterTitle = styled.div`\n  font-size: ${(props) => props.theme.fontSize.h2};\n  font-weight: 700;\n  margin-bottom: 28px;\n  text-align: center;\n`;\n\nconst RegisterInput = styled.div`\n  margin-bottom: 28px;\n\n  & input {\n    width: 100%;\n    padding: 8px;\n    font-size: ${(props) => props.theme.fontSize.h5};\n    outline: transparent;\n    border: 1px solid ${(props) => props.theme.colors.neutralPaleGrey};\n    border-radius: 5px;\n    letter-spacing: 1.5px;\n    margin-top: 8px;\n  }\n`;\n\nconst RegisterSubmit = styled.div`\n  display: flex;\n  justify-content: space-evenly;\n\n  & button {\n    background: ${(props) => props.theme.colors.neutralGrey};\n    color: ${(props) => props.theme.colors.neutralSnow};\n  }\n\n  & button,\n  a {\n    border-radius: 20px;\n    font-size: ${(props) => props.theme.fontSize.h5};\n    padding: 6px 20px;\n    border: 1px solid ${(props) => props.theme.colors.neutralGrey};\n  }\n`;\n\nconst LinkToLogin = styled(Link)`\n  display: flex;\n  align-items: center;\n  background: ${(props) => props.theme.colors.neutralSnow};\n  color: ${(props) => props.theme.colors.neutralGrey};\n`;\n\nconst ErrorMessage = styled.div`\n  margin-bottom: 16px;\n  color: ${(props) => props.theme.colors.uiNegative};\n  font-weight: 700;\n`;\n\nconst SubmitLoading = styled.div`\n  font-weight: 700;\n  color: ${(props) => props.theme.colors.neutralGrey};\n  padding: 10px;\n`;\n\nexport default function RegisterPage() {\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n  const { setUser } = useContext(AuthContext);\n  // 在 React 中 value 若是 undefined，等同於沒有傳 value\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [nickname, setNickname] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState();\n  const history = useHistory();\n\n  // 阻止送出表單\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n    register({ username, password, nickname }).then((data) => {\n      // 若 ok 為 0 代表錯誤\n      if (data.ok === 0) {\n        setIsLoading(false);\n        return setErrorMessage(data.message);\n      }\n      // 成功的話就把 token 存到 localStorage\n      setAuthToken(data.token);\n\n      getMe().then((response) => {\n        if (response.ok !== 1) {\n          setIsLoading(false);\n          // 在 getMe() 出錯代表還沒成功登入，因此要把 token 清空\n          setAuthToken(null);\n          setErrorMessage(response.toString());\n        }\n        setUser(response.data);\n        // 並導回首頁\n        history.push(\"/\");\n      });\n    });\n  };\n\n  const handleInputFocus = () => {\n    setErrorMessage(null);\n  };\n\n  const handleNicknameChange = (e) => {\n    setNickname(e.target.value);\n  };\n\n  const handleUsernameChange = (e) => {\n    setUsername(e.target.value);\n  };\n\n  const handlePasswordChange = (e) => {\n    setPassword(e.target.value);\n  };\n\n  return (\n    <RegisterWrapper>\n      <RegisterForm onSubmit={handleSubmit}>\n        <RegisterTitle>註冊</RegisterTitle>\n        {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\n        <RegisterInput>\n          nickname:\n          <input\n            value={nickname}\n            onChange={handleNicknameChange}\n            onFocus={handleInputFocus}\n          />\n        </RegisterInput>\n        <RegisterInput>\n          username:\n          <input\n            value={username}\n            onChange={handleUsernameChange}\n            onFocus={handleInputFocus}\n          />\n        </RegisterInput>\n        <RegisterInput>\n          password:\n          <input\n            type=\"password\"\n            value={password}\n            onChange={handlePasswordChange}\n            onFocus={handleInputFocus}\n          />\n        </RegisterInput>\n        <RegisterSubmit>\n          {isLoading ? (\n            <SubmitLoading>資料驗證中...</SubmitLoading>\n          ) : (\n            <>\n              <LinkToLogin to=\"/login\">已有帳號</LinkToLogin>\n              <button>註冊</button>\n            </>\n          )}\n        </RegisterSubmit>\n      </RegisterForm>\n    </RegisterWrapper>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Reset } from \"styled-reset\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport { AuthContext, LoadingContext } from \"../../contexts\";\nimport { getMe } from \"../../WebAPI\";\nimport Header from \"../Header\";\nimport Footer from \"../Footer\";\nimport {\n  getAuthToken,\n  ScrollToTop,\n  scrollToAnchor,\n  ClickTop,\n} from \"../../utils\";\nimport {\n  EditPostPage,\n  HomePage,\n  LoginPage,\n  NewPostPage,\n  PostListPage,\n  PostPage,\n  RegisterPage,\n} from \"../../pages\";\n\nexport default function App() {\n  const [isLoadingGetMe, setLoadingGetMe] = useState(true);\n  const [isLoading, setIsLoading] = useState(false);\n  // user 有東西就代表有登入\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    // 以 getAuthToken 從 localStorage 讀取 token\n    if (getAuthToken()) {\n      // 有 token 才 call API\n      getMe().then((response) => {\n        if (response.ok) {\n          setUser(response.data);\n          setLoadingGetMe(false);\n        }\n      });\n    } else {\n      setLoadingGetMe(false);\n    }\n  }, []);\n\n  return (\n    <AuthContext.Provider value={{ user, setUser }}>\n      <Reset />\n      <LoadingContext.Provider\n        value={{ isLoading, setIsLoading, isLoadingGetMe }}\n      >\n        {/* Router: 包在最外層 */}\n        <Router>\n          {/* 路徑改變自動到 TOP */}\n          <ScrollToTop />\n          <ClickTop onClick={() => scrollToAnchor(\"page-top\")}></ClickTop>\n          <Header />\n          {/* Switch: 確保匹配第一個符合網址列的路由 */}\n          <Switch>\n            {/* exact path: 完整匹配 */}\n            <Route exact path=\"/\">\n              <HomePage />\n            </Route>\n            <Route exact path=\"/post-list/\">\n              <PostListPage />\n            </Route>\n            <Route exact path=\"/post/:id\">\n              <PostPage />\n            </Route>\n            <Route exact path=\"/new-post\">\n              <NewPostPage />\n            </Route>\n            <Route exact path=\"/edit-post/:id\">\n              <EditPostPage />\n            </Route>\n            <Route exact path=\"/register\">\n              <RegisterPage />\n            </Route>\n            <Route exact path=\"/login\">\n              <LoginPage />\n            </Route>\n          </Switch>\n          <Footer />\n        </Router>\n      </LoadingContext.Provider>\n    </AuthContext.Provider>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"./index.css\";\nimport { ThemeProvider } from \"styled-components\";\nimport { theme } from \"./constants/theme\";\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <App />\n  </ThemeProvider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}